<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® GAME OF JOBS â€“ Forum de l'Emploi</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&display=swap');
        
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Nunito', Arial, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(23,23,24,0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(243,146,0,0.05) 0%, transparent 50%),
                linear-gradient(45deg, transparent 49%, rgba(23,23,24,0.02) 50%, transparent 51%);
            color: #171718;
            overflow-x: hidden;
            line-height: 1.6;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 98px,
                    rgba(23,23,24,0.01) 100px
                ),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 98px,
                    rgba(23,23,24,0.01) 100px
                );
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #171718 0%, #2c2c2e 100%);
            color: white;
            padding: 60px 40px;
            border: none;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border-radius: 0;
            box-shadow: 
                0 8px 32px rgba(23,23,24,0.4),
                inset 0 1px 0 rgba(255,255,255,0.1);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(45deg, transparent 30%, rgba(243,146,0,0.1) 50%, transparent 70%),
                repeating-linear-gradient(
                    -45deg,
                    transparent,
                    transparent 20px,
                    rgba(255,255,255,0.02) 22px
                );
            z-index: 1;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, #f39200 0%, #95c11f 25%, #2897d5 50%, #d60b52 75%, #a3195b 100%);
            z-index: 3;
        }

        .header h1 {
            font-family: 'Oswald', Arial, sans-serif;
            font-size: 3.8rem;
            font-weight: 700;
            margin: 0 0 20px 0;
            position: relative;
            z-index: 2;
            letter-spacing: 0.05em;
            color: #f39200;
            text-transform: uppercase;
            text-shadow: 
                3px 3px 0 #171718,
                6px 6px 0 rgba(23,23,24,0.3),
                0 0 30px rgba(243,146,0,0.5);
            transform: perspective(500px) rotateX(15deg);
        }

        .header .subtitle {
            font-size: 1.1rem;
            margin: 25px 0 20px 0;
            position: relative;
            z-index: 2;
            line-height: 1.5;
            font-weight: 600;
            color: white;
        }

        .header .subtitle div {
            margin: 10px 0;
            padding: 15px 25px;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 0;
            display: inline-block;
            color: white;
            box-shadow: 
                0 4px 15px rgba(0,0,0,0.2),
                inset 0 1px 0 rgba(255,255,255,0.1);
            border: none;
            border-left: 6px solid #d60b52;
            backdrop-filter: blur(10px);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.02em;
        }

        .header .subtitle div:nth-child(2) {
            border-left-color: #2897d5;
            margin-left: 15px;
            transform: rotate(-1deg);
        }

        .header .subtitle div:nth-child(3) {
            border-left-color: #95c11f;
            margin-left: 30px;
            transform: rotate(1deg);
        }

        .header p {
            font-size: 1.1rem;
            margin: 20px 0 0 0;
            position: relative;
            z-index: 2;
            color: #171718;
            font-weight: 600;
            background: #f8f9fa;
            padding: 15px 30px;
            display: inline-block;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border: 2px solid #f39200;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            padding: 20px;
            background: linear-gradient(135deg, rgba(23,23,24,0.8) 0%, rgba(44,44,46,0.8) 100%);
            backdrop-filter: blur(10px);
            border-top: 3px solid #f39200;
            border-bottom: 3px solid #f39200;
        }

        .nav-btn {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border: 2px solid rgba(255,255,255,0.2);
            color: white;
            padding: 16px 24px;
            border-radius: 0;
            cursor: pointer;
            font-weight: 700;
            font-family: 'Oswald', Arial, sans-serif;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 15px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.1);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(243,146,0,0.3), transparent);
            transition: left 0.5s ease;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover, .nav-btn.active {
            background: linear-gradient(135deg, #f39200 0%, #d17a00 100%);
            color: white;
            transform: translateY(-3px);
            box-shadow: 
                0 8px 25px rgba(243,146,0,0.4),
                0 0 20px rgba(243,146,0,0.3);
            border-color: #171718;
        }

        .page {
            display: none;
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,249,250,0.95) 100%);
            border-radius: 0;
            padding: 40px;
            box-shadow: 
                0 12px 40px rgba(23,23,24,0.15),
                inset 0 1px 0 rgba(255,255,255,0.8);
            margin-bottom: 30px;
            border: none;
            border-left: 8px solid #f39200;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .page::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #f39200 0%, #95c11f 25%, #2897d5 50%, #d60b52 75%, #a3195b 100%);
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes gentleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .game-sector, .special-sector {
            width: 140px;
            height: 140px;
            border-radius: 0;
            color: white;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            box-shadow: 
                0 8px 25px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.2),
                inset 0 -1px 0 rgba(0,0,0,0.2);
            border: 3px solid #171718;
            transform: perspective(1000px) rotateX(5deg);
        }

        .game-sector::before, .special-sector::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 10px,
                    rgba(255,255,255,0.05) 12px
                );
            pointer-events: none;
        }

        .game-sector:hover, .special-sector:hover {
            transform: perspective(1000px) rotateX(0deg) translateY(-8px) scale(1.08);
            box-shadow: 
                0 15px 40px rgba(0,0,0,0.4),
                0 0 30px rgba(243,146,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.3);
        }

        .game-sector .sector-icon, .special-sector .sector-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .game-sector h4, .special-sector h4 {
            margin: 0;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .sector-controls {
            position: absolute;
            top: -10px;
            right: -10px;
            display: flex;
            gap: 5px;
        }

        .sector-controls button {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.8);
            background: rgba(255,255,255,0.9);
            color: #171718;
            font-size: 0.8rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .sector-controls button:hover {
            background: #f39200;
            color: white;
            border-color: #f39200;
            transform: scale(1.1);
        }

        .objective-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.9) 100%);
            border: 3px solid #171718;
            border-radius: 0;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 6px 20px rgba(23,23,24,0.2),
                inset 0 1px 0 rgba(255,255,255,0.8);
            position: relative;
            overflow: hidden;
        }

        .objective-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(243,146,0,0.1), transparent);
            transition: left 0.6s ease;
        }

        .objective-card:hover::before {
            left: 100%;
        }

        .objective-card:hover {
            border-color: #f39200;
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 12px 35px rgba(243,146,0,0.3),
                0 0 20px rgba(243,146,0,0.2);
        }

        .objective-card.completed {
            background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%);
            color: white;
            border-color: #171718;
            box-shadow: 
                0 8px 30px rgba(149,193,31,0.4),
                0 0 25px rgba(149,193,31,0.3);
            transform: scale(1.05);
        }

        .objective-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .objective-card h4 {
            margin: 10px 0;
            font-size: 1rem;
        }

        .objective-points {
            font-size: 1.2rem;
            font-weight: 700;
            color: #f39200;
            margin: 10px 0;
        }

        .objective-card.completed .objective-points {
            color: white;
        }

        .objective-status {
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 15px;
            background: #f8f9fa;
            color: #6c757d;
            display: inline-block;
        }

        .objective-card.completed .objective-status {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f39200 0%, #d17a00 100%);
            color: white;
            border: 3px solid #171718;
            padding: 18px 36px;
            border-radius: 0;
            font-weight: 700;
            font-family: 'Oswald', Arial, sans-serif;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 8px 25px rgba(243,146,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.2);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 12px 35px rgba(243,146,0,0.4),
                0 0 30px rgba(243,146,0,0.3);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at center, rgba(23,23,24,0.8) 0%, rgba(23,23,24,0.9) 100%),
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 20px,
                    rgba(243,146,0,0.05) 22px
                );
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,249,250,0.95) 100%);
            padding: 40px;
            border-radius: 0;
            max-width: 600px;
            width: 90%;
            text-align: center;
            max-height: 80vh;
            overflow-y: auto;
            border: 4px solid #171718;
            box-shadow: 
                0 20px 60px rgba(23,23,24,0.5),
                inset 0 1px 0 rgba(255,255,255,0.8);
            position: relative;
            backdrop-filter: blur(20px);
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, #f39200 0%, #95c11f 25%, #2897d5 50%, #d60b52 75%, #a3195b 100%);
        }

        .question-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.9) 100%);
            border-left: 8px solid #2897d5;
            padding: 25px;
            margin: 15px 0;
            border-radius: 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-top: 2px solid #171718;
            border-bottom: 2px solid #171718;
            border-right: 2px solid #171718;
            box-shadow: 
                0 6px 20px rgba(23,23,24,0.1),
                inset 0 1px 0 rgba(255,255,255,0.8);
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(40,151,213,0.1), transparent);
            transition: left 0.6s ease;
        }

        .question-card:hover::before {
            left: 100%;
        }

        .question-card:hover {
            background: linear-gradient(135deg, rgba(40,151,213,0.1) 0%, rgba(40,151,213,0.05) 100%);
            transform: translateX(10px);
            box-shadow: 
                0 8px 30px rgba(40,151,213,0.2),
                inset 0 1px 0 rgba(255,255,255,0.9);
        }

        .question-card-colorful:hover {
            transform: translateY(-8px) scale(1.05) rotate(1deg);
            box-shadow: 
                0 15px 40px rgba(0,0,0,0.3),
                0 0 30px rgba(243,146,0,0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.9) 100%);
            border-radius: 0;
            padding: 25px;
            text-align: center;
            box-shadow: 
                0 8px 25px rgba(23,23,24,0.15),
                inset 0 1px 0 rgba(255,255,255,0.8);
            border: 3px solid #171718;
            border-top: 8px solid #f39200;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 15px,
                    rgba(243,146,0,0.03) 17px
                );
            pointer-events: none;
        }

        .stat-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 15px 40px rgba(23,23,24,0.2),
                0 0 25px rgba(243,146,0,0.2);
        }

        .icon-large {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }

        .score-display {
            background: linear-gradient(135deg, #171718 0%, #2c2c2e 100%);
            color: white;
            padding: 40px;
            border-radius: 0;
            text-align: center;
            margin: 20px 0;
            border: 4px solid #f39200;
            box-shadow: 
                0 12px 40px rgba(23,23,24,0.3),
                inset 0 1px 0 rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }

        .score-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    -45deg,
                    transparent,
                    transparent 25px,
                    rgba(243,146,0,0.05) 27px
                );
            pointer-events: none;
        }

        .score-number {
            font-family: 'Oswald', Arial, sans-serif;
            font-size: 4rem;
            font-weight: 700;
            margin: 15px 0;
            text-shadow: 
                2px 2px 0 rgba(0,0,0,0.3),
                0 0 20px rgba(243,146,0,0.5);
            color: #f39200;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .container { max-width: 100%; padding: 15px; }
            .header h1 { font-size: 2.8rem; }
            .game-sector, .special-sector { width: 110px; height: 110px; }
            .game-sector h4, .special-sector h4 { font-size: 0.8rem; }
        }

        @media (max-width: 992px) {
            .header { padding: 40px 30px; }
            .header h1 { font-size: 2.5rem; }
            .header .subtitle div { margin-left: 0 !important; margin: 5px 0; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .game-sector, .special-sector { width: 100px; height: 100px; }
            .game-sector .sector-icon, .special-sector .sector-icon { font-size: 1.8rem; }
        }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header { padding: 30px 20px; }
            .header h1 { font-size: 2rem; }
            .header .subtitle { font-size: 1rem; }
            .header .subtitle div { 
                display: block; 
                margin: 8px auto; 
                padding: 10px 15px;
                max-width: 280px;
            }
            .header p { 
                font-size: 1rem; 
                padding: 12px 20px; 
                margin: 15px auto 0 auto;
                max-width: 300px;
            }
            
            /* Navigation responsive */
            .navigation { 
                flex-direction: column; 
                align-items: center; 
                gap: 10px;
            }
            .nav-btn { 
                width: 100%; 
                max-width: 300px; 
                padding: 12px 20px; 
                font-size: 0.9rem;
            }
            
            /* QG responsive */
            #qg {
                padding: 20px;
                margin: 0 auto;
            }
            #qg h3 { font-size: 1rem; }
            #qg .sector-icon { font-size: 2rem; }
            
            /* Secteurs responsive */
            #map .page > div:first-child {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            /* Boutons d'action responsive */
            #map .page > div:nth-child(2) {
                flex-direction: column;
                align-items: center;
            }
            #map .page > div:nth-child(2) button {
                width: 100%;
                max-width: 300px;
            }
            
            /* Stats responsive */
            .stats-grid { 
                grid-template-columns: 1fr; 
                gap: 15px; 
            }
            
            /* Objectifs responsive */
            #map .page > div:last-child + div {
                padding: 20px;
            }
            #map .page > div:last-child + div > div:last-child {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            /* Score responsive */
            .score-display {
                padding: 20px 15px;
            }
            .score-display > div:last-child {
                flex-direction: column;
                text-align: center;
            }
            
            /* Modal responsive */
            .modal-content {
                width: 95%;
                padding: 20px;
                max-height: 90vh;
            }
            
            /* Tableau responsive */
            #companyTracker {
                min-width: 600px;
            }
            
            /* Questions colorÃ©es responsive */
            .question-card-colorful {
                min-width: 250px;
            }
        }

        @media (max-width: 480px) {
            .header h1 { font-size: 1.8rem; }
            .header { padding: 20px 15px; }
            .header .subtitle div { 
                font-size: 0.9rem; 
                padding: 8px 12px;
            }
            
            /* QG plus compact */
            #qg {
                padding: 15px;
            }
            #qg h3 { font-size: 0.9rem; }
            
            /* Secteurs en 1 colonne sur trÃ¨s petit Ã©cran */
            #map .page > div:first-child {
                grid-template-columns: 1fr;
            }
            
            /* Objectifs en 1 colonne */
            #map .page > div:last-child + div > div:last-child {
                grid-template-columns: 1fr;
            }
            
            /* Badges en 1 colonne */
            .stats-grid,
            div[style*="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr))"] {
                grid-template-columns: 1fr !important;
            }
            
            /* Boutons plus petits */
            .btn-primary, .nav-btn {
                padding: 10px 16px;
                font-size: 0.9rem;
            }
            
            /* Chat bubble masquÃ© sur mobile */
            #chatBubble {
                display: none;
            }
        }

        /* Orientation paysage sur mobile */
        @media (max-width: 768px) and (orientation: landscape) {
            #map .page > div:first-child {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* AmÃ©liorations tactiles */
        @media (hover: none) and (pointer: coarse) {
            .objective-card, .nav-btn, .btn-primary {
                min-height: 44px;
                min-width: 44px;
            }
            
            /* Espacement plus gÃ©nÃ©reux pour le tactile */
            .navigation { gap: 15px; }
            .stats-grid { gap: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <!-- Logo en haut Ã  gauche -->
            <div style="position: absolute; top: 20px; left: 20px; z-index: 3;">
                <img src="https://static.wixstatic.com/media/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif/v1/fill/w_224,h_60,al_c,q_80,enc_avif,quality_auto/dd5dab_47743b1c86024865ba19e623a3db327f~mv2.avif" 
                     alt="Logo Mission Locale" 
                     style="height: 50px; width: auto; background: rgba(255,255,255,0.95); padding: 8px 12px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);"
                     onerror="this.style.display='none'; console.log('Logo failed to load');">
            </div>
            
            <!-- SÃ©lecteur de langue en haut Ã  droite -->
            <div style="position: absolute; top: 20px; right: 20px; z-index: 3; display: flex; gap: 5px;">
                <button onclick="changeLanguage('fr')" id="langFr" style="background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; border: 2px solid #171718; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(243,146,0,0.3);">
                    ğŸ‡«ğŸ‡· FR
                </button>
                <button onclick="changeLanguage('es')" id="langEs" style="background: rgba(255,255,255,0.9); color: #171718; border: 2px solid #171718; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    ğŸ‡ªğŸ‡¸ ES
                </button>
            </div>
            
            <h1 data-translate="title">GAME OF JOBS</h1>
            
            <!-- Ã‰lÃ©ments dÃ©coratifs Mission Locale -->
            <div style="position: absolute; top: 30px; right: 30px; width: 40px; height: 40px; background: rgba(255,255,255,0.2); border-radius: 50%; z-index: 3; animation: gentleFloat 3s ease-in-out infinite;"></div>
            
            <div style="position: absolute; bottom: 30px; left: 30px; width: 60px; height: 60px; background: rgba(255,255,255,0.15); border-radius: 20px; z-index: 3; animation: gentleFloat 4s ease-in-out infinite reverse;"></div>
            
            <div class="subtitle">
                <div data-translate="subtitle1">ğŸ‡«ğŸ‡· <strong>Trouve ton job</strong></div>
                <div data-translate="subtitle2">ğŸ‡ªğŸ‡¸ <strong>Â¡Encuentra tu trabajo!</strong></div>
                <div data-translate="subtitle3">ğŸ‡ªğŸ‡º <strong>Aurkitu zure lana !</strong></div>
            </div>
            <p data-translate="forum_title">Forum de l'Emploi - RÃ©seau des Missions Locales</p>
        </header>

        <nav class="navigation">
            <button class="nav-btn active" onclick="showPage('map')" data-translate="nav_map">ğŸ—ºï¸ Carte Interactive</button>
            <button class="nav-btn" onclick="showPage('rules')" data-translate="nav_rules">ğŸ“‹ RÃ¨gles du Jeu</button>
            <button class="nav-btn" onclick="showPage('progress')" data-translate="nav_progress">ğŸ“Š Mon Parcours</button>
            <button class="nav-btn" onclick="showPage('questions')" data-translate="nav_questions">â“ Questions FrÃ©quentes</button>
            <button class="nav-btn" onclick="showPage('rewards')" data-translate="nav_rewards">ğŸ† RÃ©compenses</button>
        </nav>

        <!-- Page 1: Carte Interactive (Version 20) -->
        <div id="map" class="page active">
            <!-- Bandeau supÃ©rieur avec secteurs/entreprises -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin-bottom: 30px;">
                <!-- Commerce -->
                <div style="background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(243,146,0,0.3);" onclick="openSector('commerce')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ›ï¸</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Commerce</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">2 entreprises</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('commerce')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Industrie -->
                <div style="background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(149,193,31,0.3);" onclick="openSector('industrie')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">âš™ï¸</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Industrie</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">1 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('industrie')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- NumÃ©rique -->
                <div style="background: linear-gradient(135deg, #a3195b 0%, #8a1449 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(163,25,91,0.3);" onclick="openSector('numerique')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ’»</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">NumÃ©rique</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">1 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('numerique')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- SantÃ©/Social -->
                <div style="background: linear-gradient(135deg, #2897d5 0%, #1e7bb8 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(40,151,213,0.3);" onclick="openSector('sante')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ§‘â€âš•ï¸</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">SantÃ©/Social</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">1 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('sante')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Transport -->
                <div style="background: linear-gradient(135deg, #d60b52 0%, #b8094a 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(214,11,82,0.3);" onclick="openSector('transport')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸš›</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Transport</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('transport')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- HÃ´tellerie, Restauration -->
                <div style="background: linear-gradient(135deg, #9f3d3f 0%, #7d2f31 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(159,61,63,0.3);" onclick="openSector('hotellerie')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ½ï¸</div>
                        <h4 style="margin: 0; font-size: 0.8rem; font-weight: 700;">HÃ´tellerie, Restauration</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('hotellerie')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Animation -->
                <div style="background: linear-gradient(135deg, #6f42c1 0%, #5a2d91 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(111,66,193,0.3);" onclick="openSector('animation')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ­</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Animation</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('animation')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Tourisme -->
                <div style="background: linear-gradient(135deg, #fd7e14 0%, #e8590c 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(253,126,20,0.3);" onclick="openSector('tourisme')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ–ï¸</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Tourisme</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('tourisme')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- BTP -->
                <div style="background: linear-gradient(135deg, #20c997 0%, #17a2b8 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(32,201,151,0.3);" onclick="openSector('btp')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ—ï¸</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">BTP</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('btp')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Agriculture -->
                <div style="background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(40,167,69,0.3);" onclick="openSector('agriculture')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸŒ¾</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Agriculture</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('agriculture')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- SÃ©curitÃ© -->
                <div style="background: linear-gradient(135deg, #6c757d 0%, #495057 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(108,117,125,0.3);" onclick="openSector('securite')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ›¡ï¸</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">SÃ©curitÃ©</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('securite')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Apprentissages -->
                <div style="background: linear-gradient(135deg, #e83e8c 0%, #c2185b 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(232,62,140,0.3);" onclick="openSector('apprentissages')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ“</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">Apprentissages</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('apprentissages')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- IntÃ©rim -->
                <div style="background: linear-gradient(135deg, #17a2b8 0%, #138496 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(23,162,184,0.3);" onclick="openSector('interim')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">â°</div>
                        <h4 style="margin: 0; font-size: 0.9rem; font-weight: 700;">IntÃ©rim</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('interim')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>

                <!-- Groupement d'Employeurs -->
                <div style="background: linear-gradient(135deg, #8e44ad 0%, #6c3483 100%); color: white; border: 2px solid #171718; border-radius: 15px; padding: 10px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(142,68,173,0.3);" onclick="openSector('groupement')">
                    <div style="text-align: center;">
                        <div style="font-size: 1.8rem; margin-bottom: 5px;">ğŸ¤</div>
                        <h4 style="margin: 0; font-size: 0.8rem; font-weight: 700;">Groupement d'Employeurs</h4>
                        <p style="margin: 3px 0 0 0; font-size: 0.7rem; opacity: 0.9;">0 entreprise</p>
                        <button onclick="event.stopPropagation(); addCompanyToSector('groupement')" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 4px 6px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">â•</button>
                    </div>
                </div>
            </div>

            <!-- Boutons d'action -->
            <div style="display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; flex-wrap: wrap;">
                <button onclick="openCVOptions()" style="background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; border: 3px solid #171718; padding: 15px 25px; border-radius: 20px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(243,146,0,0.3);" data-translate="btn_cv">
                    ğŸ“„ Mon CV
                </button>
                <button onclick="openChat()" style="background: linear-gradient(135deg, #2897d5 0%, #95c11f 100%); color: white; border: 3px solid #171718; padding: 15px 25px; border-radius: 20px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(40,151,213,0.3);" data-translate="btn_help">
                    ğŸ’¬ Aide / Chat QG
                </button>
                <button onclick="addNewSector()" style="background: linear-gradient(135deg, #a3195b 0%, #d60b52 100%); color: white; border: 3px solid #171718; padding: 15px 25px; border-radius: 20px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 6px 20px rgba(163,25,91,0.3);" data-translate="btn_new_sector">
                    â• Nouveau Secteur
                </button>
            </div>

            <h2 style="color: #f39200; font-size: 2.5rem; margin-bottom: 10px; text-align: center;" data-translate="main_title">ğŸ—ºï¸ Ta mission commence ici !</h2>
            <p style="text-align: center; font-size: 1.2rem; color: #171718; margin-bottom: 30px;" data-translate="main_subtitle">Explore le Forum de l'Emploi et dÃ©couvre toutes les opportunitÃ©s qui t'attendent</p>
            
            <!-- Score et progression -->
            <div style="background: linear-gradient(135deg, #f39200 0%, #95c11f 100%); color: white; padding: 20px; border-radius: 15px; margin-bottom: 30px; text-align: center;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                    <div>
                        <h3 style="margin: 0; font-family: 'Inter', sans-serif; font-size: 1.5rem;" data-translate="total_score">Score Total</h3>
                        <div id="totalScore" style="font-size: 2.5rem; font-weight: 700; margin: 5px 0;">140</div>
                    </div>
                    <div style="flex: 1; min-width: 200px;">
                        <div style="background: rgba(255,255,255,0.2); border-radius: 10px; height: 20px; margin: 10px 0;">
                            <div id="globalProgress" style="background: white; height: 100%; border-radius: 10px; width: 35%; transition: width 0.5s ease;"></div>
                        </div>
                        <small data-translate="general_progress">Progression gÃ©nÃ©rale : 35%</small>
                    </div>
                </div>
            </div>

            <!-- QG Mission Locale centrÃ© -->
            <div style="background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 25px; padding: 40px; margin-bottom: 30px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
                <div id="qg" style="background: linear-gradient(135deg, #2897d5 0%, #95c11f 100%); color: white; padding: 30px; border-radius: 25px; border: 3px solid rgba(255,255,255,0.3); text-align: center; cursor: pointer; box-shadow: 0 10px 30px rgba(40,151,213,0.2); display: inline-block; position: relative;" onclick="openQG()">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ </div>
                    <h3 style="margin: 0; font-size: 1.2rem;">STAND</h3>
                    <h3 style="margin: 0; font-size: 1.2rem;" data-translate="qg_title">MISSION LOCALE</h3>
                    <p style="margin: 5px 0 0 0; font-size: 0.9rem; opacity: 0.9;" data-translate="qg_subtitle">(QG)</p>
                    <div id="chatBubble" style="position: absolute; top: -60px; left: 50%; transform: translateX(-50%); background: white; color: #171718; padding: 10px 15px; border-radius: 15px; border: 2px solid #171718; font-size: 0.9rem; white-space: nowrap; box-shadow: 0 4px 15px rgba(0,0,0,0.1);" data-translate="chat_bubble">
                        ğŸ’¬ On est lÃ  si tu as des questions !
                        <div style="position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid white;"></div>
                    </div>
                </div>
            </div>

            <!-- Objectifs et points -->
            <div style="background: white; border: 2px solid #171718; border-radius: 15px; padding: 25px; margin-top: 30px;">
                <h3 style="color: #f39200; margin-bottom: 20px; text-align: center;" data-translate="objectives_title">ğŸ† Tes Objectifs Points</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div class="objective-card" id="obj1" onclick="completeObjective('presence')">
                        <div class="objective-icon">âœ…</div>
                        <h4 data-translate="presence_obj">Feuille de prÃ©sence signÃ©e</h4>
                        <div class="objective-points">+10 pts</div>
                        <div class="objective-status" data-translate="todo_status">Ã€ faire</div>
                    </div>
                    <div class="objective-card" id="obj2" onclick="completeObjective('secteurs')">
                        <div class="objective-icon">ğŸ§­</div>
                        <h4 data-translate="sectors_obj">3 secteurs ciblÃ©s</h4>
                        <div class="objective-points">+10 pts</div>
                        <div class="objective-status" data-translate="todo_status">Ã€ faire</div>
                    </div>
                    <div class="objective-card" id="obj3" onclick="completeObjective('debrief')">
                        <div class="objective-icon">ğŸ¤</div>
                        <h4 data-translate="debrief_obj">DÃ©brief retour QG</h4>
                        <div class="objective-points">+20 pts</div>
                        <div class="objective-status" data-translate="todo_status">Ã€ faire</div>
                    </div>
                    <div class="objective-card" id="obj4" onclick="completeObjective('partenaire')">
                        <div class="objective-icon">ğŸ’«</div>
                        <h4 data-translate="partner_obj">Visite partenaire ML</h4>
                        <div class="objective-points">+100 pts</div>
                        <div class="objective-status" data-translate="todo_status">Ã€ faire</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 2: RÃ¨gles du Jeu (Version 11) -->
        <div id="rules" class="page">
            <h2 style="color: #f39200; font-size: 2.5rem; margin-bottom: 30px; text-align: center;">ğŸ“‹ RÃ¨gles du Jeu</h2>
            
            <div style="background: linear-gradient(135deg, #2897d5 0%, #95c11f 100%); color: white; padding: 30px; border-radius: 20px; margin-bottom: 30px;">
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ¯ Objectif Principal</h3>
                <p style="font-size: 1.2rem; text-align: center; margin: 0;">Explore le forum, rencontre des recruteurs, pose des questions et dÃ©croche ton job de rÃªve !</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-bottom: 30px;">
                <div style="background: white; border: 3px solid #f39200; border-radius: 15px; padding: 25px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ®</div>
                        <h3 style="color: #f39200; margin: 0;">Comment Jouer</h3>
                    </div>
                    <ul style="list-style: none; padding: 0; margin: 0;">
                        <li style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <strong>1.</strong> Clique sur les secteurs pour les explorer
                        </li>
                        <li style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <strong>2.</strong> Rencontre les recruteurs et pose des questions
                        </li>
                        <li style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <strong>3.</strong> DÃ©pose ton CV dans les entreprises
                        </li>
                        <li style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <strong>4.</strong> Accumule des points et dÃ©bloque des badges
                        </li>
                    </ul>
                </div>

                <div style="background: white; border: 3px solid #95c11f; border-radius: 15px; padding: 25px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">â­</div>
                        <h3 style="color: #95c11f; margin: 0;">SystÃ¨me de Points</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <span>Visite d'un secteur</span>
                            <span style="font-weight: bold; color: #f39200;">+20 pts</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <span>Question posÃ©e</span>
                            <span style="font-weight: bold; color: #f39200;">+50 pts</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <span>CV dÃ©posÃ©</span>
                            <span style="font-weight: bold; color: #f39200;">+100 pts</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <span>Contact obtenu</span>
                            <span style="font-weight: bold; color: #f39200;">+200 pts</span>
                        </div>
                    </div>
                </div>

                <div style="background: white; border: 3px solid #2897d5; border-radius: 15px; padding: 25px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ†</div>
                        <h3 style="color: #2897d5; margin: 0;">Badges Ã  DÃ©bloquer</h3>
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <div style="font-weight: bold;">ğŸ§­ Explorateur</div>
                            <div style="font-size: 0.9rem; color: #6c757d;">Visite 3 secteurs diffÃ©rents</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <div style="font-weight: bold;">ğŸ’¬ Communicateur</div>
                            <div style="font-size: 0.9rem; color: #6c757d;">Pose 5 questions aux recruteurs</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <div style="font-weight: bold;">ğŸ“„ Candidat Pro</div>
                            <div style="font-size: 0.9rem; color: #6c757d;">DÃ©pose ton CV dans 3 entreprises</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px;">
                            <div style="font-weight: bold;">ğŸŒŸ Job Hunter</div>
                            <div style="font-size: 0.9rem; color: #6c757d;">Obtiens un contact ou entretien</div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="background: #f8f9fa; border: 2px solid #171718; border-radius: 15px; padding: 25px;">
                <h3 style="color: #a3195b; text-align: center; margin-bottom: 20px;">ğŸ† Badges Ã  DÃ©bloquer</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div style="background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ§­</div>
                        <h4 style="margin: 0 0 10px 0;">Explorateur</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">Visite 3 secteurs diffÃ©rents</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+60 points</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #2897d5 0%, #1e7bb8 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ’¬</div>
                        <h4 style="margin: 0 0 10px 0;">Communicateur</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">Pose 5 questions aux recruteurs</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+250 points</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ“„</div>
                        <h4 style="margin: 0 0 10px 0;">Candidat Pro</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">DÃ©pose ton CV dans 3 entreprises</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+300 points</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #a3195b 0%, #8a1449 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸŒŸ</div>
                        <h4 style="margin: 0 0 10px 0;">Job Hunter</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">Obtiens un contact ou entretien</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+500 points</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #95c11f 0%, #2897d5 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸŒ±</div>
                        <h4 style="margin: 0 0 10px 0;">Eco Warrior</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">ComplÃ¨te 5000 pas pendant le forum</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+150 points</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 3: Mon Parcours (Version 11) -->
        <div id="progress" class="page">
            <h2 style="color: #f39200; font-size: 2.5rem; margin-bottom: 30px; text-align: center;">ğŸ“Š Mon Parcours</h2>
            
            <div class="score-display">
                <h3 style="margin: 0 0 15px 0;">ğŸ¯ Ton Score Actuel</h3>
                <div class="score-number" id="currentScore">140</div>
                <div style="font-size: 1.2rem; margin-bottom: 20px;">points obtenus</div>
                
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 15px;">
                    <div style="font-weight: 600; margin-bottom: 10px;">Progression GÃ©nÃ©rale</div>
                    <div style="background: rgba(255,255,255,0.3); border-radius: 10px; height: 20px; margin: 10px 0;">
                        <div style="background: white; height: 100%; border-radius: 10px; width: 35%; transition: width 0.5s ease;"></div>
                    </div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">35% de ton objectif atteint</div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="icon-large">ğŸ¢</div>
                    <h3 style="color: #f39200; margin: 10px 0;">Secteurs VisitÃ©s</h3>
                    <div style="font-size: 2rem; font-weight: 700; color: #171718;" id="sectorsCount">3</div>
                    <div style="color: #6c757d; font-size: 0.9rem;">sur 12 disponibles</div>
                </div>
                
                <div class="stat-card">
                    <div class="icon-large">ğŸ’¬</div>
                    <h3 style="color: #2897d5; margin: 10px 0;">Questions PosÃ©es</h3>
                    <div style="font-size: 2rem; font-weight: 700; color: #171718;" id="questionsCount">2</div>
                    <div style="color: #6c757d; font-size: 0.9rem;">interactions rÃ©alisÃ©es</div>
                </div>
                
                <div class="stat-card">
                    <div class="icon-large">ğŸ“„</div>
                    <h3 style="color: #95c11f; margin: 10px 0;">CV DÃ©posÃ©s</h3>
                    <div style="font-size: 2rem; font-weight: 700; color: #171718;" id="cvsCount">1</div>
                    <div style="color: #6c757d; font-size: 0.9rem;">candidatures actives</div>
                </div>
                
                <div class="stat-card">
                    <div class="icon-large">â­</div>
                    <h3 style="color: #a3195b; margin: 10px 0;">Badges Obtenus</h3>
                    <div style="font-size: 2rem; font-weight: 700; color: #171718;" id="badgesCount">1</div>
                    <div style="color: #6c757d; font-size: 0.9rem;">sur 4 possibles</div>
                </div>
            </div>

            <div style="background: white; border: 2px solid #171718; border-radius: 15px; padding: 25px; margin: 30px 0;">
                <h3 style="color: #2897d5; text-align: center; margin-bottom: 25px;">ğŸ† Tes Badges</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div style="background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ§­</div>
                        <h4 style="margin: 0 0 10px 0;">Explorateur</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">3 secteurs visitÃ©s</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">âœ… Obtenu</div>
                    </div>

                    <div style="background: #f8f9fa; border: 2px dashed #e9ecef; color: #6c757d; padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ’¬</div>
                        <h4 style="margin: 0 0 10px 0;">Communicateur</h4>
                        <p style="margin: 0; font-size: 0.9rem;">5 questions posÃ©es</p>
                        <div style="background: #e9ecef; padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">ğŸ”’ BloquÃ©</div>
                    </div>

                    <div style="background: #f8f9fa; border: 2px dashed #e9ecef; color: #6c757d; padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ“„</div>
                        <h4 style="margin: 0 0 10px 0;">Candidat Pro</h4>
                        <p style="margin: 0; font-size: 0.9rem;">3 CV dÃ©posÃ©s</p>
                        <div style="background: #e9ecef; padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">ğŸ”’ BloquÃ©</div>
                    </div>

                    <div style="background: #f8f9fa; border: 2px dashed #e9ecef; color: #6c757d; padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸŒŸ</div>
                        <h4 style="margin: 0 0 10px 0;">Job Hunter</h4>
                        <p style="margin: 0; font-size: 0.9rem;">Contact obtenu</p>
                        <div style="background: #e9ecef; padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">ğŸ”’ BloquÃ©</div>
                    </div>
                </div>
            </div>

            <!-- Statistiques en temps rÃ©el -->
            <div style="background: linear-gradient(135deg, #f39200 0%, #95c11f 100%); color: white; border-radius: 15px; padding: 25px; margin: 30px 0;">
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ“Š Mes Statistiques en Temps RÃ©el</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ‘‹</div>
                        <div style="font-size: 2rem; font-weight: 700;" id="statPresentations">0</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">PrÃ©sentations</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ’¬</div>
                        <div style="font-size: 2rem; font-weight: 700;" id="statQuestions">0</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">Questions</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“„</div>
                        <div style="font-size: 2rem; font-weight: 700;" id="statCVs">0</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">CV DÃ©posÃ©s</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“</div>
                        <div style="font-size: 2rem; font-weight: 700;" id="statSuivis">0</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">Suivis</div>
                    </div>
                </div>
            </div>

            <!-- Tableau de suivi des entreprises -->
            <div style="background: white; border: 2px solid #171718; border-radius: 15px; padding: 25px; margin: 30px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 15px;">
                    <h3 style="color: #f39200; margin: 0;">ğŸ“‹ Mon Carnet de Bord</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="addCompanyToTracker()" style="background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%); color: white; border: none; padding: 12px 25px; border-radius: 25px; cursor: pointer; font-weight: 600; box-shadow: 0 6px 20px rgba(149,193,31,0.4); transition: all 0.3s ease;">
                            â• Ajouter une entreprise
                        </button>
                        <button onclick="clearAllTracking()" style="background: linear-gradient(135deg, #d60b52 0%, #b8094a 100%); color: white; border: none; padding: 12px 25px; border-radius: 25px; cursor: pointer; font-weight: 600; box-shadow: 0 6px 20px rgba(214,11,82,0.4); transition: all 0.3s ease;">
                            ğŸ—‘ï¸ Effacer tout
                        </button>
                        <button onclick="showPage('map')" style="background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; border: none; padding: 12px 25px; border-radius: 25px; cursor: pointer; font-weight: 600; box-shadow: 0 6px 20px rgba(243,146,0,0.4); transition: all 0.3s ease;">
                            â¬…ï¸ Retour au QG
                        </button>
                    </div>
                </div>

                <div style="overflow-x: auto; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <table id="companyTracker" style="width: 100%; border-collapse: collapse; background: white; min-width: 800px;">
                        <thead>
                            <tr style="background: linear-gradient(135deg, #f39200 0%, #95c11f 100%); color: white;">
                                <th style="padding: 15px; text-align: left; font-weight: 600; border-bottom: 2px solid #171718;">Entreprise</th>
                                <th style="padding: 15px; text-align: center; font-weight: 600; border-bottom: 2px solid #171718; min-width: 120px;">ğŸ‘‹ PrÃ©sentation</th>
                                <th style="padding: 15px; text-align: center; font-weight: 600; border-bottom: 2px solid #171718; min-width: 120px;">ğŸ’¬ Question posÃ©e</th>
                                <th style="padding: 15px; text-align: center; font-weight: 600; border-bottom: 2px solid #171718; min-width: 120px;">ğŸ“„ CV dÃ©posÃ©</th>
                                <th style="padding: 15px; text-align: center; font-weight: 600; border-bottom: 2px solid #171718; min-width: 120px;">ğŸ“ Suivi obtenu</th>
                                <th style="padding: 15px; text-align: center; font-weight: 600; border-bottom: 2px solid #171718; min-width: 200px;">ğŸ˜ƒ Ressenti</th>
                                <th style="padding: 15px; text-align: center; font-weight: 600; border-bottom: 2px solid #171718; width: 80px;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="trackerBody">
                            <!-- Les lignes seront ajoutÃ©es dynamiquement -->
                        </tbody>
                    </table>
                </div>

                <div id="emptyTracker" style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 10px; margin-top: 20px;">
                    <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ“</div>
                    <h4 style="color: #6c757d; margin: 0 0 10px 0;">Ton carnet de bord est vide</h4>
                    <p style="color: #6c757d; margin: 0 0 20px 0;">Commence Ã  ajouter les entreprises que tu rencontres pour suivre tes dÃ©marches !</p>
                    <button onclick="addCompanyToTracker()" style="background: #95c11f; color: white; border: none; padding: 12px 25px; border-radius: 20px; cursor: pointer; font-weight: 600;">
                        â• Ajouter ma premiÃ¨re entreprise
                    </button>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #a3195b 0%, #8a1449 100%); color: white; border-radius: 15px; padding: 25px;">
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ¯ Prochains Objectifs</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ’¬</div>
                        <h4 style="margin: 0 0 10px 0;">Pose 3 questions de plus</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">Pour dÃ©bloquer le badge Communicateur</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px;">
                        <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ“„</div>
                        <h4 style="margin: 0 0 10px 0;">DÃ©pose 2 CV de plus</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">Pour dÃ©bloquer le badge Candidat Pro</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page 4: Questions FrÃ©quentes (Version 12) -->
        <div id="questions" class="page">
            <h2 style="color: #f39200; font-size: 2.5rem; margin-bottom: 30px; text-align: center;">â“ Questions Ã  Poser aux Recruteurs</h2>
            
            <div style="background: linear-gradient(135deg, #2897d5 0%, #95c11f 100%); color: white; padding: 25px; border-radius: 20px; margin-bottom: 30px; text-align: center;">
                <h3 style="margin-bottom: 15px;">ğŸ’¡ Brise la Glace !</h3>
                <p style="margin: 0; font-size: 1.1rem;">Ces questions t'aident Ã  briser la glace avec un recruteur !</p>
                <p style="margin: 10px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Clique sur une question pour la copier et l'utiliser ğŸ“‹</p>
            </div>

            <!-- Cartes de questions colorÃ©es -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div class="question-card-colorful" onclick="copyQuestion('Quelles qualitÃ©s recherchez-vous pour ce poste ?')" style="background: linear-gradient(135deg, #f39200 0%, #ff6b35 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(243,146,0,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ¯</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Quelles qualitÃ©s recherchez-vous ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Pour ce poste spÃ©cifiquement</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Quels mÃ©tiers recrutent le plus actuellement ?')" style="background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(149,193,31,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ’¼</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Quels mÃ©tiers recrutent le plus ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Dans votre secteur d'activitÃ©</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Proposez-vous des stages ou de l\'alternance ?')" style="background: linear-gradient(135deg, #2897d5 0%, #1e7bb8 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(40,151,213,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Proposez-vous des stages ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Ou de l'alternance pour dÃ©buter</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Faut-il obligatoirement un diplÃ´me ?')" style="background: linear-gradient(135deg, #a3195b 0%, #8a1449 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(163,25,91,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“š</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Faut-il un diplÃ´me ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Ou privilÃ©giez-vous l'expÃ©rience</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Peut-on postuler sans expÃ©rience ?')" style="background: linear-gradient(135deg, #d60b52 0%, #b8094a 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(214,11,82,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸŒŸ</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Peut-on postuler sans expÃ©rience ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Formation sur le tas possible ?</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Comment se dÃ©roule une journÃ©e type ?')" style="background: linear-gradient(135deg, #9f3d3f 0%, #7d2f31 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(159,61,63,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">â°</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Comment se dÃ©roule une journÃ©e type ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Dans ce poste concrÃ¨tement</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Quelles sont les perspectives d\'Ã©volution ?')" style="background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(243,146,0,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸš€</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Quelles perspectives d'Ã©volution ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">PossibilitÃ©s de carriÃ¨re</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Comment fonctionne l\'Ã©quipe ?')" style="background: linear-gradient(135deg, #95c11f 0%, #2897d5 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(149,193,31,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ¤</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Comment fonctionne l'Ã©quipe ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Ambiance et collaboration</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Quels sont les horaires et la rÃ©munÃ©ration ?')" style="background: linear-gradient(135deg, #2897d5 0%, #a3195b 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(40,151,213,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ’°</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Quels sont les horaires / rÃ©munÃ©ration ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Conditions de travail</p>
                </div>

                <div class="question-card-colorful" onclick="copyQuestion('Comment puis-je vous recontacter ?')" style="background: linear-gradient(135deg, #a3195b 0%, #d60b52 100%); color: white; padding: 20px; border-radius: 15px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(163,25,91,0.3);">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“</div>
                    <h4 style="margin: 0; font-size: 1.1rem; font-weight: 600;">Comment vous recontacter ?</h4>
                    <p style="margin: 8px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Pour un suivi de candidature</p>
                </div>
            </div>

            <!-- Zone questions personnelles -->
            <div style="background: white; border: 2px solid #171718; border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                    <div style="font-size: 2rem;">âœï¸</div>
                    <h3 style="color: #f39200; margin: 0;">Mes Questions Personnelles</h3>
                </div>
                <p style="color: #6c757d; margin-bottom: 20px;">Note ici tes propres questions selon ton profil et tes intÃ©rÃªts :</p>
                
                <div id="personalQuestions" style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px;">
                    <!-- Les questions personnelles seront ajoutÃ©es ici -->
                </div>
                
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <input type="text" id="newPersonalQuestion" placeholder="Ex: Proposez-vous des formations en interne ?" style="flex: 1; min-width: 250px; padding: 12px; border: 2px solid #e9ecef; border-radius: 10px; font-size: 1rem;">
                    <button onclick="addPersonalQuestion()" style="background: #95c11f; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; white-space: nowrap;">
                        â• Ajouter
                    </button>
                </div>
            </div>

            <!-- FAQ classique -->
            <div style="background: #f8f9fa; border-radius: 15px; padding: 25px;">
                <h3 style="color: #2897d5; text-align: center; margin-bottom: 25px;">ğŸ’¡ Questions FrÃ©quentes sur le Forum</h3>
                
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div class="question-card" onclick="toggleAnswer('q1')">
                        <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                            <h4 style="margin: 0; color: #171718;">Comment gagner plus de points rapidement ?</h4>
                            <div style="font-size: 1.5rem; color: #2897d5;">+</div>
                        </div>
                        <div id="q1" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef; color: #6c757d;">
                            <p>Pour maximiser tes points :</p>
                            <ul>
                                <li>Visite plusieurs secteurs diffÃ©rents (+20 pts chacun)</li>
                                <li>Pose des questions aux recruteurs (+50 pts chacune)</li>
                                <li>DÃ©pose ton CV dans les entreprises (+100 pts)</li>
                                <li>Obtiens des contacts ou entretiens (+200 pts)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="question-card" onclick="toggleAnswer('q2')">
                        <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                            <h4 style="margin: 0; color: #171718;">Que dire quand je me prÃ©sente Ã  un recruteur ?</h4>
                            <div style="font-size: 1.5rem; color: #2897d5;">+</div>
                        </div>
                        <div id="q2" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef; color: #6c757d;">
                            <p>PrÃ©pare un pitch de 30 secondes avec :</p>
                            <ul>
                                <li>Ton prÃ©nom et ton Ã¢ge</li>
                                <li>Ta formation actuelle ou ton parcours</li>
                                <li>Ce que tu recherches (stage, alternance, emploi)</li>
                                <li>Tes qualitÃ©s principales</li>
                                <li>Pourquoi ce secteur t'intÃ©resse</li>
                            </ul>
                        </div>
                    </div>

                    <div class="question-card" onclick="toggleAnswer('q3')">
                        <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                            <h4 style="margin: 0; color: #171718;">Comment dÃ©bloquer tous les badges ?</h4>
                            <div style="font-size: 1.5rem; color: #2897d5;">+</div>
                        </div>
                        <div id="q3" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef; color: #6c757d;">
                            <p>Guide des badges :</p>
                            <ul>
                                <li><strong>ğŸ§­ Explorateur :</strong> Visite 3 secteurs diffÃ©rents</li>
                                <li><strong>ğŸ’¬ Communicateur :</strong> Pose 5 questions aux recruteurs</li>
                                <li><strong>ğŸ“„ Candidat Pro :</strong> DÃ©pose ton CV dans 3 entreprises</li>
                                <li><strong>ğŸŒŸ Job Hunter :</strong> Obtiens un contact ou entretien</li>
                            </ul>
                        </div>
                    </div>

                    <div class="question-card" onclick="toggleAnswer('q4')">
                        <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                            <h4 style="margin: 0; color: #171718;">Que faire si je suis timide ?</h4>
                            <div style="font-size: 1.5rem; color: #2897d5;">+</div>
                        </div>
                        <div id="q4" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef; color: #6c757d;">
                            <p>Conseils pour les plus timides :</p>
                            <ul>
                                <li>Commence par observer et Ã©couter</li>
                                <li>PrÃ©pare tes questions Ã  l'avance</li>
                                <li>Commence par les stands moins frÃ©quentÃ©s</li>
                                <li>N'hÃ©site pas Ã  demander de l'aide aux conseillers</li>
                                <li>Rappelle-toi que les recruteurs sont lÃ  pour t'aider</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #a3195b 0%, #8a1449 100%); color: white; border-radius: 15px; padding: 25px; margin-top: 30px;">
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ’¬ Encore des Questions ?</h3>
                <div style="text-align: center;">
                    <p style="margin-bottom: 20px;">N'hÃ©site pas Ã  contacter tes conseillers Mission Locale !</p>
                    <button onclick="showPage('map')" style="background: white; color: #a3195b; border: none; padding: 12px 25px; border-radius: 20px; cursor: pointer; font-weight: 600;">
                        â¬…ï¸ Retour au QG
                    </button>
                </div>
            </div>
        </div>

        <!-- Page 5: RÃ©compenses (Version 11) -->
        <div id="rewards" class="page">
            <h2 style="color: #f39200; font-size: 2.5rem; margin-bottom: 30px; text-align: center;">ğŸ† RÃ©compenses</h2>
            
            <div class="score-display">
                <h3 style="margin: 0 0 15px 0;">ğŸ¯ Ton Score Final</h3>
                <div class="score-number" id="finalScore">140</div>
                <div style="font-size: 1.2rem; margin-bottom: 20px;">points obtenus</div>
                
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 15px;">
                    <div style="font-weight: 600; margin-bottom: 10px;">ğŸ… Ton Classement</div>
                    <div style="font-size: 1.5rem; font-weight: 700;">#8 sur 32 participants</div>
                    <div style="font-size: 0.9rem; opacity: 0.9; margin-top: 5px;">Tu es dans le top 25% ! ğŸ‰</div>
                </div>
            </div>

            <div style="background: white; border: 2px solid #171718; border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                <h3 style="color: #f39200; text-align: center; margin-bottom: 25px;">ğŸ… Tes Badges Obtenus</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div style="background: linear-gradient(135deg, #95c11f 0%, #7ba518 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="position: absolute; top: -10px; right: -10px; background: #ffd700; color: #171718; padding: 5px; border-radius: 50%; font-size: 0.8rem; font-weight: 700;">âœ“</div>
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ§­</div>
                        <h4 style="margin: 0 0 10px 0;">Explorateur</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">3 secteurs visitÃ©s</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+60 points</div>
                    </div>

                    <div style="background: #f8f9fa; border: 2px dashed #e9ecef; color: #6c757d; padding: 20px; border-radius: 15px; text-align: center; opacity: 0.6;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ’¬</div>
                        <h4 style="margin: 0 0 10px 0;">Communicateur</h4>
                        <p style="margin: 0; font-size: 0.9rem;">5 questions posÃ©es</p>
                        <div style="background: #e9ecef; padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+250 points</div>
                    </div>

                    <div style="background: #f8f9fa; border: 2px dashed #e9ecef; color: #6c757d; padding: 20px; border-radius: 15px; text-align: center; opacity: 0.6;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ“„</div>
                        <h4 style="margin: 0 0 10px 0;">Candidat Pro</h4>
                        <p style="margin: 0; font-size: 0.9rem;">3 CV dÃ©posÃ©s</p>
                        <div style="background: #e9ecef; padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+300 points</div>
                    </div>

                    <div style="background: #f8f9fa; border: 2px dashed #e9ecef; color: #6c757d; padding: 20px; border-radius: 15px; text-align: center; opacity: 0.6;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸŒŸ</div>
                        <h4 style="margin: 0 0 10px 0;">Job Hunter</h4>
                        <p style="margin: 0; font-size: 0.9rem;">Contact obtenu</p>
                        <div style="background: #e9ecef; padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+500 points</div>
                    </div>

                    <div style="background: linear-gradient(135deg, #95c11f 0%, #2897d5 100%); color: white; padding: 20px; border-radius: 15px; text-align: center; position: relative;">
                        <div style="position: absolute; top: -10px; right: -10px; background: #ffd700; color: #171718; padding: 5px; border-radius: 50%; font-size: 0.8rem; font-weight: 700;">âœ“</div>
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸŒ±</div>
                        <h4 style="margin: 0 0 10px 0;">Eco Warrior</h4>
                        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;">5000 pas complÃ©tÃ©s</p>
                        <div style="background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; margin-top: 15px; font-weight: 600;">+150 points</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 10px; margin-top: 10px;">
                            <div style="font-size: 0.9rem; margin-bottom: 5px;">Progression : 5247 / 5000 pas</div>
                            <div style="background: rgba(255,255,255,0.3); border-radius: 10px; height: 8px;">
                                <div style="background: white; height: 100%; border-radius: 10px; width: 100%; transition: width 0.5s ease;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #a3195b 0%, #8a1449 100%); color: white; border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                <h3 style="text-align: center; margin-bottom: 20px;">ğŸ Tes RÃ©compenses</h3>
                
                <div style="display: flex; justify-content: center;">
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px; text-align: center; max-width: 400px;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">ğŸ“Š</div>
                        <h4 style="margin: 0 0 15px 0; font-size: 1.3rem;">Mon Bilan PersonnalisÃ©</h4>
                        <p style="margin: 0 0 20px 0; font-size: 1rem; opacity: 0.9;">RÃ©capitulatif complet de ton parcours au forum emploi</p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button onclick="downloadBilan()" style="background: white; color: #a3195b; border: none; padding: 12px 25px; border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 1rem;">
                                ğŸ“„ TÃ©lÃ©charger en PDF
                            </button>
                            <button onclick="emailBilan()" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 12px 25px; border-radius: 20px; cursor: pointer; font-weight: 600; font-size: 1rem;">
                                ğŸ“§ Envoyer par Email
                            </button>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-top: 20px; font-size: 0.9rem;">
                            <strong>Contient :</strong><br>
                            â€¢ Ton score et badges obtenus<br>
                            â€¢ Liste des entreprises visitÃ©es<br>
                            â€¢ Tes contacts et opportunitÃ©s<br>
                            â€¢ Recommandations personnalisÃ©es
                        </div>
                    </div>
                </div>
            </div>

            <div style="background: white; border: 2px solid #171718; border-radius: 15px; padding: 25px;">
                <h3 style="color: #2897d5; text-align: center; margin-bottom: 25px;">ğŸš€ Prochaines Ã‰tapes</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; border-left: 4px solid #f39200;">
                        <h4 style="margin: 0 0 10px 0; color: #f39200;">Cette Semaine</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #171718;">
                            <li>Recontacter les entreprises visitÃ©es</li>
                            <li>Envoyer des emails de remerciement</li>
                            <li>PrÃ©parer les entretiens Ã©ventuels</li>
                        </ul>
                    </div>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; border-left: 4px solid #95c11f;">
                        <h4 style="margin: 0 0 10px 0; color: #95c11f;">Semaine Prochaine</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #171718;">
                            <li>RDV bilan avec ton conseiller</li>
                            <li>Relancer les candidatures</li>
                            <li>Rechercher d'autres opportunitÃ©s</li>
                        </ul>
                    </div>

                    <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; border-left: 4px solid #2897d5;">
                        <h4 style="margin: 0 0 10px 0; color: #2897d5;">Ce Mois-ci</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #171718;">
                            <li>Candidatures ciblÃ©es</li>
                            <li>Entretiens et immersions</li>
                            <li>Suivi des rÃ©ponses</li>
                        </ul>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #f39200 0%, #95c11f 100%); color: white; padding: 20px; border-radius: 15px; margin-top: 25px; text-align: center;">
                    <h4 style="margin: 0 0 15px 0;">ğŸ‰ FÃ©licitations !</h4>
                    <p style="margin: 0 0 20px 0; font-size: 1.1rem;">Tu as terminÃ© ton parcours au forum emploi. Continue sur cette lancÃ©e et n'hÃ©site pas Ã  revenir vers nous si tu as besoin d'aide !</p>
                    <button onclick="saveResults()" style="background: white; color: #f39200; border: none; padding: 15px 30px; border-radius: 25px; cursor: pointer; font-weight: 700; font-size: 1.1rem; box-shadow: 0 6px 20px rgba(0,0,0,0.2); transition: all 0.3s ease;">
                        ğŸ’¾ Sauvegarder Mon RÃ©sultat
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal pour les dÃ©tails -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <h3 id="modalTitle">Titre</h3>
                <div id="modalContent">Contenu</div>
                <button class="btn-primary" onclick="closeModal()">Fermer</button>
            </div>
        </div>
    </div>

    <script>
        // SystÃ¨me de traduction
        let currentLanguage = 'fr';
        
        const translations = {
            fr: {
                title: "GAME OF JOBS",
                subtitle1: "ğŸ‡«ğŸ‡· Trouve ton job",
                subtitle2: "ğŸ‡ªğŸ‡¸ Â¡Encuentra tu trabajo!",
                subtitle3: "ğŸ‡ªğŸ‡º Aurkitu zure lana !",
                forum_title: "Forum de l'Emploi - RÃ©seau des Missions Locales",
                nav_map: "ğŸ—ºï¸ Carte Interactive",
                nav_rules: "ğŸ“‹ RÃ¨gles du Jeu",
                nav_progress: "ğŸ“Š Mon Parcours",
                nav_questions: "â“ Questions FrÃ©quentes",
                nav_rewards: "ğŸ† RÃ©compenses",
                main_title: "ğŸ—ºï¸ Ta mission commence ici !",
                main_subtitle: "Explore le Forum de l'Emploi et dÃ©couvre toutes les opportunitÃ©s qui t'attendent",
                total_score: "Score Total",
                general_progress: "Progression gÃ©nÃ©rale",
                qg_title: "STAND MISSION LOCALE",
                qg_subtitle: "(QG)",
                chat_bubble: "ğŸ’¬ On est lÃ  si tu as des questions !",
                objectives_title: "ğŸ† Tes Objectifs Points",
                presence_obj: "Feuille de prÃ©sence signÃ©e",
                sectors_obj: "3 secteurs ciblÃ©s",
                debrief_obj: "DÃ©brief retour QG",
                partner_obj: "Visite partenaire ML",
                todo_status: "Ã€ faire",
                completed_status: "ComplÃ©tÃ© !",
                btn_cv: "ğŸ“„ Mon CV",
                btn_help: "ğŸ’¬ Aide / Chat QG",
                btn_new_sector: "â• Nouveau Secteur",
                companies_count: "entreprises"
            },
            es: {
                title: "GAME OF JOBS",
                subtitle1: "ğŸ‡«ğŸ‡· Encuentra tu trabajo",
                subtitle2: "ğŸ‡ªğŸ‡¸ Â¡Encuentra tu trabajo!",
                subtitle3: "ğŸ‡ªğŸ‡º Aurkitu zure lana !",
                forum_title: "Foro de Empleo - Red de Misiones Locales",
                nav_map: "ğŸ—ºï¸ Mapa Interactivo",
                nav_rules: "ğŸ“‹ Reglas del Juego",
                nav_progress: "ğŸ“Š Mi Progreso",
                nav_questions: "â“ Preguntas Frecuentes",
                nav_rewards: "ğŸ† Recompensas",
                main_title: "ğŸ—ºï¸ Â¡Tu misiÃ³n comienza aquÃ­!",
                main_subtitle: "Explora el Foro de Empleo y descubre todas las oportunidades que te esperan",
                total_score: "PuntuaciÃ³n Total",
                general_progress: "Progreso general",
                qg_title: "STAND MISIÃ“N LOCAL",
                qg_subtitle: "(QG)",
                chat_bubble: "ğŸ’¬ Â¡Estamos aquÃ­ si tienes preguntas!",
                objectives_title: "ğŸ† Tus Objetivos Puntos",
                presence_obj: "Hoja de presencia firmada",
                sectors_obj: "3 sectores objetivo",
                debrief_obj: "Informe de vuelta al QG",
                partner_obj: "Visita socio ML",
                todo_status: "Por hacer",
                completed_status: "Â¡Completado!",
                btn_cv: "ğŸ“„ Mi CV",
                btn_help: "ğŸ’¬ Ayuda / Chat QG",
                btn_new_sector: "â• Nuevo Sector",
                companies_count: "empresas",
                // Page RÃ¨gles
                rules_title: "ğŸ“‹ Reglas del Juego",
                main_objective: "ğŸ¯ Objetivo Principal",
                main_objective_text: "Â¡Explora el foro, conoce reclutadores, haz preguntas y consigue el trabajo de tus sueÃ±os!",
                how_to_play: "ğŸ® CÃ³mo Jugar",
                how_to_play_1: "1. Haz clic en los sectores para explorarlos",
                how_to_play_2: "2. Conoce a los reclutadores y haz preguntas",
                how_to_play_3: "3. Deposita tu CV en las empresas",
                how_to_play_4: "4. Acumula puntos y desbloquea insignias",
                points_system: "â­ Sistema de Puntos",
                visit_sector: "Visita de un sector",
                question_asked: "Pregunta realizada",
                cv_deposited: "CV depositado",
                contact_obtained: "Contacto obtenido",
                badges_unlock: "ğŸ† Insignias a Desbloquear",
                explorer_badge: "ğŸ§­ Explorador",
                explorer_desc: "Visita 3 sectores diferentes",
                communicator_badge: "ğŸ’¬ Comunicador",
                communicator_desc: "Haz 5 preguntas a los reclutadores",
                candidate_badge: "ğŸ“„ Candidato Pro",
                candidate_desc: "Deposita tu CV en 3 empresas",
                hunter_badge: "ğŸŒŸ Job Hunter",
                hunter_desc: "ObtÃ©n un contacto o entrevista",
                eco_badge: "ğŸŒ± Eco Warrior",
                eco_desc: "Completa 5000 pasos durante el foro",
                // Page Parcours
                progress_title: "ğŸ“Š Mi Progreso",
                current_score: "ğŸ¯ Tu PuntuaciÃ³n Actual",
                points_obtained: "puntos obtenidos",
                general_progression: "ProgresiÃ³n General",
                objective_reached: "de tu objetivo alcanzado",
                sectors_visited: "Sectores Visitados",
                available_sectors: "disponibles",
                questions_asked: "Preguntas Realizadas",
                interactions_made: "interacciones realizadas",
                cvs_deposited: "CVs Depositados",
                active_applications: "candidaturas activas",
                badges_obtained: "Insignias Obtenidas",
                possible_badges: "posibles",
                your_badges: "ğŸ† Tus Insignias",
                obtained_status: "âœ… Obtenida",
                locked_status: "ğŸ”’ Bloqueada",
                real_time_stats: "ğŸ“Š Mis EstadÃ­sticas en Tiempo Real",
                presentations: "Presentaciones",
                questions: "Preguntas",
                followups: "Seguimientos",
                logbook: "ğŸ“‹ Mi Cuaderno de BitÃ¡cora",
                add_company: "â• Agregar una empresa",
                clear_all: "ğŸ—‘ï¸ Borrar todo",
                back_to_qg: "â¬…ï¸ Volver al QG",
                empty_logbook: "Tu cuaderno de bitÃ¡cora estÃ¡ vacÃ­o",
                empty_logbook_desc: "Â¡Comienza a agregar las empresas que encuentres para seguir tus gestiones!",
                add_first_company: "â• Agregar mi primera empresa",
                next_objectives: "ğŸ¯ PrÃ³ximos Objetivos",
                ask_more_questions: "Haz 3 preguntas mÃ¡s",
                unlock_communicator: "Para desbloquear la insignia Comunicador",
                deposit_more_cvs: "Deposita 2 CVs mÃ¡s",
                unlock_candidate: "Para desbloquear la insignia Candidato Pro",
                // Page Questions
                questions_title: "â“ Preguntas para Hacer a los Reclutadores",
                break_ice: "ğŸ’¡ Â¡Rompe el Hielo!",
                break_ice_desc: "Â¡Estas preguntas te ayudan a romper el hielo con un reclutador!",
                click_copy: "Haz clic en una pregunta para copiarla y usarla ğŸ“‹",
                personal_questions: "âœï¸ Mis Preguntas Personales",
                personal_questions_desc: "Anota aquÃ­ tus propias preguntas segÃºn tu perfil e intereses:",
                add_question: "â• Agregar",
                faq_forum: "ğŸ’¡ Preguntas Frecuentes sobre el Foro",
                more_questions: "ğŸ’¬ Â¿MÃ¡s Preguntas?",
                contact_advisors: "Â¡No dudes en contactar a tus consejeros de MisiÃ³n Local!",
                // Page RÃ©compenses
                rewards_title: "ğŸ† Recompensas",
                final_score: "ğŸ¯ Tu PuntuaciÃ³n Final",
                your_ranking: "ğŸ… Tu ClasificaciÃ³n",
                participants: "participantes",
                top_percent: "Â¡EstÃ¡s en el top 25%! ğŸ‰",
                obtained_badges: "ğŸ… Tus Insignias Obtenidas",
                your_rewards: "ğŸ Tus Recompensas",
                personalized_report: "Mi Informe Personalizado",
                report_desc: "Resumen completo de tu recorrido en el foro de empleo",
                download_pdf: "ğŸ“„ Descargar en PDF",
                send_email: "ğŸ“§ Enviar por Email",
                report_contains: "Contiene:",
                report_content_1: "â€¢ Tu puntuaciÃ³n e insignias obtenidas",
                report_content_2: "â€¢ Lista de empresas visitadas",
                report_content_3: "â€¢ Tus contactos y oportunidades",
                report_content_4: "â€¢ Recomendaciones personalizadas",
                next_steps: "ğŸš€ PrÃ³ximos Pasos",
                this_week: "Esta Semana",
                next_week: "PrÃ³xima Semana",
                this_month: "Este Mes",
                congratulations: "ğŸ‰ Â¡Felicitaciones!",
                congratulations_text: "Has terminado tu recorrido en el foro de empleo. Â¡ContinÃºa con este impulso y no dudes en volver a nosotros si necesitas ayuda!",
                save_result: "ğŸ’¾ Guardar Mi Resultado"
            }
        };

        let currentScore = 140;
        let visitedSectors = [];
        let completedObjectives = [];
        let companies = {
            commerce: [
                { name: "SuperMarchÃ© Plus", contact: "Marie Dubois", phone: "01.23.45.67.89", email: "marie@supermarche.fr", offers: ["Vendeur H/F", "Caissier H/F"] },
                { name: "Boutique Mode", contact: "Jean Martin", phone: "01.98.76.54.32", email: "jean@mode.fr", offers: ["Conseiller de vente", "Responsable boutique"] }
            ],
            industrie: [
                { name: "TechnoFab", contact: "Sophie Laurent", phone: "01.11.22.33.44", email: "sophie@technofab.fr", offers: ["OpÃ©rateur machine", "Technicien maintenance"] }
            ],
            numerique: [
                { name: "WebDev Pro", contact: "Alex Dupont", phone: "01.55.66.77.88", email: "alex@webdev.fr", offers: ["DÃ©veloppeur Junior", "Designer UI/UX"] }
            ],
            sante: [
                { name: "Clinique SantÃ©+", contact: "Dr. Martin", phone: "01.44.55.66.77", email: "contact@sante.fr", offers: ["Aide-soignant", "SecrÃ©taire mÃ©dical"] }
            ]
        };

        let customSectors = [];
        let sectorColors = ['#f39200', '#95c11f', '#2897d5', '#a3195b', '#d60b52', '#9f3d3f'];
        let sectorIcons = ['ğŸ¢', 'âš¡', 'ğŸ¯', 'ğŸ”§', 'ğŸ“Š', 'ğŸŒŸ', 'ğŸ’¼', 'ğŸš€', 'â­', 'ğŸ¨'];
        
        // DonnÃ©es du carnet de bord
        let companyTracker = [];

        // Navigation entre les pages
        function showPage(pageId) {
            // Masquer toutes les pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Masquer tous les boutons de navigation actifs
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Afficher la page sÃ©lectionnÃ©e
            document.getElementById(pageId).classList.add('active');
            
            // Activer le bouton correspondant
            event.target.classList.add('active');
        }

        // Ouvrir les dÃ©tails d'un secteur
        function openSector(sectorName) {
            const sectorCompanies = companies[sectorName] || [];
            
            let content = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="color: #f39200; margin: 0;">ğŸ¢ Secteur ${sectorName.charAt(0).toUpperCase() + sectorName.slice(1)}</h3>
                    <button onclick="addCompanyToSector('${sectorName}')" style="background: #95c11f; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; font-weight: 600;">
                        â• Ajouter Entreprise
                    </button>
                </div>
                <p style="margin-bottom: 20px;">DÃ©couvre les entreprises et opportunitÃ©s dans ce secteur !</p>
            `;
            
            if (sectorCompanies.length > 0) {
                content += '<div style="display: flex; flex-direction: column; gap: 15px;">';
                sectorCompanies.forEach((company, index) => {
                    content += `
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; border-left: 4px solid #f39200; position: relative;">
                            <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 5px;">
                                <button onclick="editCompany('${sectorName}', ${index})" style="background: #2897d5; color: white; border: none; padding: 5px 8px; border-radius: 5px; cursor: pointer; font-size: 0.8rem;">âœï¸</button>
                                <button onclick="deleteCompany('${sectorName}', ${index})" style="background: #d60b52; color: white; border: none; padding: 5px 8px; border-radius: 5px; cursor: pointer; font-size: 0.8rem;">ğŸ—‘ï¸</button>
                            </div>
                            <h4 style="margin: 0 0 10px 0; color: #171718; padding-right: 80px;">${company.name}</h4>
                            <p style="margin: 5px 0; color: #6c757d;"><strong>Contact :</strong> ${company.contact}</p>
                            <p style="margin: 5px 0; color: #6c757d;"><strong>TÃ©lÃ©phone :</strong> ${company.phone}</p>
                            <p style="margin: 5px 0; color: #6c757d;"><strong>Email :</strong> ${company.email}</p>
                            ${company.offers && company.offers.length > 0 ? `
                                <div style="margin: 10px 0;">
                                    <strong style="color: #171718;">Offres disponibles :</strong>
                                    <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px;">
                                        ${company.offers.map(offer => `
                                            <span style="background: #e9ecef; color: #171718; padding: 3px 8px; border-radius: 10px; font-size: 0.8rem;">${offer}</span>
                                        `).join('')}
                                    </div>
                                    <button onclick="manageOffers('${sectorName}', ${index})" style="background: #a3195b; color: white; border: none; padding: 5px 10px; border-radius: 10px; cursor: pointer; font-size: 0.8rem; margin-top: 5px;">
                                        GÃ©rer les offres
                                    </button>
                                </div>
                            ` : `
                                <button onclick="manageOffers('${sectorName}', ${index})" style="background: #a3195b; color: white; border: none; padding: 5px 10px; border-radius: 10px; cursor: pointer; font-size: 0.8rem; margin-top: 10px;">
                                    â• Ajouter des offres
                                </button>
                            `}
                            <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                                <button onclick="visitCompany('${company.name}')" style="background: #95c11f; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; font-weight: 600;">
                                    Visiter cette entreprise (+20 pts)
                                </button>
                                <button onclick="manageOffers('${sectorName}', ${index})" style="background: #f39200; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; font-weight: 600;">
                                    â• Offres Ã  pourvoir
                                </button>
                            </div>
                        </div>
                    `;
                });
                content += '</div>';
            } else {
                content += `
                    <div style="text-align: center; padding: 30px; background: #f8f9fa; border-radius: 10px; margin: 20px 0;">
                        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ—ï¸</div>
                        <p style="color: #6c757d; margin: 0;">Aucune entreprise dans ce secteur pour le moment.</p>
                        <p style="color: #6c757d; margin: 5px 0 0 0;">Clique sur "Ajouter Entreprise" pour commencer !</p>
                    </div>
                `;
            }
            
            // Ajouter le secteur aux secteurs visitÃ©s
            if (!visitedSectors.includes(sectorName)) {
                visitedSectors.push(sectorName);
                addScore(20);
            }
            
            openModal('Secteur ' + sectorName.charAt(0).toUpperCase() + sectorName.slice(1), content);
        }

        // Visiter une entreprise
        function visitCompany(companyName) {
            addScore(20);
            showNotification(`âœ… Entreprise ${companyName} visitÃ©e ! +20 points`);
            closeModal();
        }

        // Ouvrir le QG Mission Locale
        function openQG() {
            const content = `
                <h3 style="color: #2897d5; margin-bottom: 20px;">ğŸ  QG Mission Locale</h3>
                <p style="margin-bottom: 20px;">Bienvenue au stand de la Mission Locale ! Nous sommes lÃ  pour t'accompagner.</p>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="color: #f39200; margin: 0 0 15px 0;">ğŸ“‹ Tes objectifs du jour :</h4>
                    <ul style="margin: 0; padding-left: 20px; color: #171718;">
                        <li>Signer la feuille de prÃ©sence âœ…</li>
                        <li>Explorer au moins 3 secteurs (${visitedSectors.length}/3)</li>
                        <li>Poser des questions aux recruteurs</li>
                        <li>DÃ©poser ton CV dans une entreprise</li>
                        <li>Revenir ici pour le dÃ©brief final</li>
                    </ul>
                </div>
                
                <div style="background: linear-gradient(135deg, #95c11f 0%, #2897d5 100%); color: white; padding: 15px; border-radius: 10px; text-align: center;">
                    <p style="margin: 0; font-weight: 600;">ğŸ’¬ Besoin d'aide ? N'hÃ©site pas Ã  nous poser tes questions !</p>
                </div>
            `;
            
            openModal('QG Mission Locale', content);
        }

        // Options CV
        function openCVOptions() {
            const content = `
                <h3 style="color: #f39200; margin-bottom: 20px;">ğŸ“„ Mon CV</h3>
                <p style="margin-bottom: 20px;">Choisis comment tu veux partager ton CV avec les recruteurs :</p>
                
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <button onclick="downloadCV()" style="background: #2897d5; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        â¬‡ï¸ TÃ©lÃ©charger mon CV (PDF)
                    </button>
                    
                    <button onclick="emailCV()" style="background: #95c11f; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        ğŸ“§ Envoyer mon CV par email
                    </button>
                    
                    <button onclick="shareCV()" style="background: #f39200; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        ğŸ”— Partager le lien de mon CV
                    </button>
                </div>
                
                <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 20px;">
                    <p style="margin: 0; font-size: 0.9rem; color: #6c757d; text-align: center;">
                        ğŸ’¡ Conseil : DÃ©pose ton CV dans les entreprises qui t'intÃ©ressent pour gagner +100 points !
                    </p>
                </div>
            `;
            
            openModal('Mon CV', content);
        }

        // Chat avec les conseillers
        function openChat() {
            showPage('questions');
        }

        // ComplÃ©ter un objectif
        function completeObjective(objectiveType) {
            if (completedObjectives.includes(objectiveType)) return;
            
            completedObjectives.push(objectiveType);
            const objectiveCard = event.target.closest('.objective-card');
            objectiveCard.classList.add('completed');
            
            const statusElement = objectiveCard.querySelector('.objective-status');
            statusElement.textContent = 'ComplÃ©tÃ© !';
            
            let points = 0;
            switch(objectiveType) {
                case 'presence': points = 10; break;
                case 'secteurs': points = 10; break;
                case 'debrief': points = 20; break;
                case 'partenaire': points = 100; break;
            }
            
            addScore(points);
            showNotification(`ğŸ‰ Objectif complÃ©tÃ© ! +${points} points`);
        }

        // Ajouter des points
        function addScore(points) {
            currentScore += points;
            document.getElementById('totalScore').textContent = currentScore;
            if (document.getElementById('finalScore')) {
                document.getElementById('finalScore').textContent = currentScore;
            }
            if (document.getElementById('currentScore')) {
                document.getElementById('currentScore').textContent = currentScore;
            }
            
            // Mettre Ã  jour la progression
            const progress = Math.min((currentScore / 1000) * 100, 100);
            document.getElementById('globalProgress').style.width = progress + '%';
        }

        // Afficher une notification
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #95c11f 0%, #2897d5 100%);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 2000;
                font-weight: 600;
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Gestion du modal
        function openModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // Fonctions pour les questions frÃ©quentes
        function toggleAnswer(questionId) {
            const answer = document.getElementById(questionId);
            const icon = event.target.closest('.question-card').querySelector('div:last-child');
            
            if (answer.style.display === 'none' || answer.style.display === '') {
                answer.style.display = 'block';
                icon.textContent = 'âˆ’';
            } else {
                answer.style.display = 'none';
                icon.textContent = '+';
            }
        }

        // Fonctions pour les cartes de questions colorÃ©es
        let personalQuestions = [];

        function copyQuestion(question) {
            // Simuler la copie dans le presse-papier
            if (navigator.clipboard) {
                navigator.clipboard.writeText(question).then(() => {
                    showNotification(`ğŸ“‹ Question copiÃ©e : "${question}"`);
                }).catch(() => {
                    showNotification(`ğŸ’¡ Question sÃ©lectionnÃ©e : "${question}"`);
                });
            } else {
                showNotification(`ğŸ’¡ Question sÃ©lectionnÃ©e : "${question}"`);
            }
            
            // Effet visuel sur la carte
            event.target.closest('.question-card-colorful').style.transform = 'scale(0.95)';
            setTimeout(() => {
                event.target.closest('.question-card-colorful').style.transform = 'scale(1)';
            }, 150);
        }

        function addPersonalQuestion() {
            const input = document.getElementById('newPersonalQuestion');
            const question = input.value.trim();
            
            if (!question) {
                showNotification('âŒ Ã‰cris d\'abord ta question !');
                return;
            }
            
            personalQuestions.push({
                id: Date.now(),
                text: question
            });
            
            input.value = '';
            updatePersonalQuestionsDisplay();
            showNotification('âœ… Question personnelle ajoutÃ©e !');
        }

        function updatePersonalQuestionsDisplay() {
            const container = document.getElementById('personalQuestions');
            
            if (personalQuestions.length === 0) {
                container.innerHTML = '<p style="color: #6c757d; font-style: italic; margin: 0;">Aucune question personnelle pour le moment.</p>';
                return;
            }
            
            container.innerHTML = '';
            personalQuestions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.style.cssText = `
                    background: #f8f9fa;
                    padding: 12px 15px;
                    border-radius: 10px;
                    border-left: 4px solid #f39200;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    gap: 15px;
                `;
                
                questionDiv.innerHTML = `
                    <span style="color: #171718; flex: 1;">${question.text}</span>
                    <div style="display: flex; gap: 8px;">
                        <button onclick="copyQuestion('${question.text.replace(/'/g, '\\\'')}')" style="background: #2897d5; color: white; border: none; padding: 6px 10px; border-radius: 8px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">
                            ğŸ“‹ Copier
                        </button>
                        <button onclick="removePersonalQuestion(${question.id})" style="background: #d60b52; color: white; border: none; padding: 6px 8px; border-radius: 8px; cursor: pointer; font-size: 0.8rem;">
                            ğŸ—‘ï¸
                        </button>
                    </div>
                `;
                
                container.appendChild(questionDiv);
            });
        }

        function removePersonalQuestion(questionId) {
            personalQuestions = personalQuestions.filter(q => q.id !== questionId);
            updatePersonalQuestionsDisplay();
            showNotification('ğŸ—‘ï¸ Question supprimÃ©e !');
        }

        // Gestion de l'entrÃ©e avec la touche EntrÃ©e
        document.addEventListener('DOMContentLoaded', function() {
            const input = document.getElementById('newPersonalQuestion');
            if (input) {
                input.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        addPersonalQuestion();
                    }
                });
            }
        });

        // Fonctions pour les rÃ©compenses
        function downloadBilan() {
            showNotification('ğŸ“Š Bilan personnalisÃ© tÃ©lÃ©chargÃ© en PDF !');
        }

        function emailBilan() {
            const content = `
                <h3 style="color: #2897d5; margin-bottom: 20px;">ğŸ“§ Envoyer le Bilan par Email</h3>
                <form onsubmit="sendBilanEmail(event)" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="emailAddress" style="display: block; margin-bottom: 5px; font-weight: 600;">Adresse email :</label>
                        <input type="email" id="emailAddress" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="ton.email@exemple.fr">
                    </div>
                    <div>
                        <label for="emailMessage" style="display: block; margin-bottom: 5px; font-weight: 600;">Message personnalisÃ© (optionnel) :</label>
                        <textarea id="emailMessage" rows="3" style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; resize: vertical;" placeholder="Ajoute un message personnel..."></textarea>
                    </div>
                    <button type="submit" style="background: #2897d5; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        ğŸ“§ Envoyer le Bilan
                    </button>
                </form>
            `;
            openModal('Envoyer par Email', content);
        }

        function sendBilanEmail(event) {
            event.preventDefault();
            const email = document.getElementById('emailAddress').value;
            closeModal();
            showNotification(`ğŸ“§ Bilan envoyÃ© Ã  ${email} !`);
        }

        // Fonctions CV
        function downloadCV() {
            showNotification('ğŸ“„ CV tÃ©lÃ©chargÃ© !');
            closeModal();
        }

        function emailCV() {
            showNotification('ğŸ“§ CV envoyÃ© par email !');
            closeModal();
        }

        function shareCV() {
            showNotification('ğŸ”— Lien du CV copiÃ© !');
            closeModal();
        }

        // Sauvegarder les rÃ©sultats
        function saveResults() {
            const content = `
                <h3 style="color: #f39200; margin-bottom: 20px;">ğŸ’¾ Sauvegarder Mon RÃ©sultat</h3>
                <p style="margin-bottom: 20px;">Choisis comment tu veux sauvegarder ton parcours au forum emploi :</p>
                
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <button onclick="downloadResults()" style="background: #2897d5; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 10px; justify-content: center;">
                        <span style="font-size: 1.2rem;">ğŸ“Š</span>
                        TÃ©lÃ©charger le Rapport Complet (PDF)
                    </button>
                    
                    <button onclick="exportToExcel()" style="background: #95c11f; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 10px; justify-content: center;">
                        <span style="font-size: 1.2rem;">ğŸ“‹</span>
                        Exporter le Carnet de Bord (Excel)
                    </button>
                    
                    <button onclick="shareResults()" style="background: #a3195b; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 10px; justify-content: center;">
                        <span style="font-size: 1.2rem;">ğŸ”—</span>
                        Partager Mes RÃ©sultats
                    </button>
                    
                    <button onclick="emailResults()" style="background: #f39200; color: white; border: none; padding: 15px 20px; border-radius: 10px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 10px; justify-content: center;">
                        <span style="font-size: 1.2rem;">ğŸ“§</span>
                        Envoyer par Email
                    </button>
                </div>
                
                <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 20px;">
                    <h4 style="color: #171718; margin: 0 0 10px 0;">ğŸ“‹ Contenu sauvegardÃ© :</h4>
                    <ul style="margin: 0; padding-left: 20px; color: #6c757d; font-size: 0.9rem;">
                        <li>Score final : ${currentScore} points</li>
                        <li>Badges obtenus : ${completedObjectives.length}/4</li>
                        <li>Secteurs visitÃ©s : ${visitedSectors.length}</li>
                        <li>Entreprises contactÃ©es : ${companyTracker.length}</li>
                        <li>Carnet de bord complet</li>
                        <li>Recommandations personnalisÃ©es</li>
                    </ul>
                </div>
            `;
            openModal('Sauvegarder RÃ©sultats', content);
        }

        function downloadResults() {
            showNotification('ğŸ“Š Rapport complet tÃ©lÃ©chargÃ© en PDF !');
            closeModal();
        }

        function exportToExcel() {
            showNotification('ğŸ“‹ Carnet de bord exportÃ© en Excel !');
            closeModal();
        }

        function shareResults() {
            showNotification('ğŸ”— Lien de partage copiÃ© dans le presse-papier !');
            closeModal();
        }

        function emailResults() {
            const content = `
                <h3 style="color: #f39200; margin-bottom: 20px;">ğŸ“§ Envoyer Mes RÃ©sultats</h3>
                <form onsubmit="sendResultsEmail(event)" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="resultsEmail" style="display: block; margin-bottom: 5px; font-weight: 600;">Adresse email :</label>
                        <input type="email" id="resultsEmail" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="ton.email@exemple.fr">
                    </div>
                    <div>
                        <label for="resultsMessage" style="display: block; margin-bottom: 5px; font-weight: 600;">Message personnalisÃ© (optionnel) :</label>
                        <textarea id="resultsMessage" rows="3" style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; resize: vertical;" placeholder="Ajoute un message pour accompagner tes rÃ©sultats..."></textarea>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="includeTracker" checked style="width: 18px; height: 18px;">
                            <span style="font-size: 0.9rem;">Inclure le carnet de bord</span>
                        </label>
                    </div>
                    <button type="submit" style="background: #f39200; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        ğŸ“§ Envoyer Mes RÃ©sultats
                    </button>
                </form>
            `;
            openModal('Envoyer RÃ©sultats', content);
        }

        function sendResultsEmail(event) {
            event.preventDefault();
            const email = document.getElementById('resultsEmail').value;
            const includeTracker = document.getElementById('includeTracker').checked;
            closeModal();
            showNotification(`ğŸ“§ RÃ©sultats envoyÃ©s Ã  ${email} ${includeTracker ? 'avec' : 'sans'} le carnet de bord !`);
        }

        // Ajouter un nouveau secteur
        function addNewSector() {
            const content = `
                <h3 style="color: #a3195b; margin-bottom: 20px;">â• CrÃ©er un Nouveau Secteur</h3>
                <form onsubmit="createSector(event)" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="sectorName" style="display: block; margin-bottom: 5px; font-weight: 600;">Nom du secteur :</label>
                        <input type="text" id="sectorName" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: Tourisme, Artisanat...">
                    </div>
                    <div>
                        <label for="sectorIcon" style="display: block; margin-bottom: 5px; font-weight: 600;">IcÃ´ne du secteur :</label>
                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 10px 0;">
                            ${sectorIcons.map(icon => `
                                <button type="button" onclick="selectIcon('${icon}')" style="padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; background: white; cursor: pointer; font-size: 1.5rem;" data-icon="${icon}">
                                    ${icon}
                                </button>
                            `).join('')}
                        </div>
                        <input type="hidden" id="selectedIcon" value="ğŸ¢">
                    </div>
                    <div>
                        <label for="sectorColor" style="display: block; margin-bottom: 5px; font-weight: 600;">Couleur du secteur :</label>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 10px 0;">
                            ${sectorColors.map(color => `
                                <button type="button" onclick="selectColor('${color}')" style="padding: 15px; border: 2px solid #e9ecef; border-radius: 8px; background: ${color}; cursor: pointer;" data-color="${color}">
                                </button>
                            `).join('')}
                        </div>
                        <input type="hidden" id="selectedColor" value="${sectorColors[0]}">
                    </div>
                    <button type="submit" style="background: #95c11f; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        CrÃ©er le Secteur
                    </button>
                </form>
            `;
            openModal('Nouveau Secteur', content);
        }

        // SÃ©lectionner une icÃ´ne
        function selectIcon(icon) {
            document.querySelectorAll('[data-icon]').forEach(btn => {
                btn.style.border = '2px solid #e9ecef';
            });
            event.target.style.border = '2px solid #f39200';
            document.getElementById('selectedIcon').value = icon;
        }

        // SÃ©lectionner une couleur
        function selectColor(color) {
            document.querySelectorAll('[data-color]').forEach(btn => {
                btn.style.border = '2px solid #e9ecef';
            });
            event.target.style.border = '2px solid #171718';
            document.getElementById('selectedColor').value = color;
        }

        // CrÃ©er un nouveau secteur
        function createSector(event) {
            event.preventDefault();
            const name = document.getElementById('sectorName').value.toLowerCase().trim();
            const icon = document.getElementById('selectedIcon').value;
            const color = document.getElementById('selectedColor').value;
            
            if (!name) return;
            
            // VÃ©rifier si le secteur existe dÃ©jÃ 
            if (companies[name]) {
                showNotification('âŒ Ce secteur existe dÃ©jÃ  !');
                return;
            }
            
            // CrÃ©er le secteur
            companies[name] = [];
            customSectors.push({ name, icon, color });
            
            // Ajouter le secteur au plateau
            addSectorToBoard(name, icon, color);
            
            closeModal();
            showNotification(`âœ… Secteur "${name}" crÃ©Ã© avec succÃ¨s !`);
        }

        // Ajouter un secteur au plateau
        function addSectorToBoard(name, icon, color) {
            const board = document.querySelector('#map .page > div:last-child');
            const newSector = document.createElement('div');
            
            // Position alÃ©atoire pour le nouveau secteur
            const positions = [
                { top: '30%', left: '15%' },
                { top: '30%', right: '15%' },
                { bottom: '40%', left: '15%' },
                { bottom: '40%', right: '15%' },
                { top: '60%', left: '30%' },
                { top: '60%', right: '30%' }
            ];
            const position = positions[customSectors.length % positions.length];
            
            newSector.className = 'game-sector';
            newSector.setAttribute('data-sector', name);
            newSector.style.cssText = `
                position: absolute; 
                ${position.top ? `top: ${position.top};` : `bottom: ${position.bottom};`}
                ${position.left ? `left: ${position.left};` : `right: ${position.right};`}
                background: ${color}; 
                border: 3px solid #171718;
                width: 120px;
                height: 120px;
                border-radius: 15px;
                color: white;
                text-align: center;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                position: relative;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            `;
            
            newSector.innerHTML = `
                <div class="sector-icon" style="font-size: 2rem; margin-bottom: 5px;">${icon}</div>
                <h4 style="margin: 0; font-size: 0.9rem; font-weight: 600;">${name.charAt(0).toUpperCase() + name.slice(1)}</h4>
                <div class="sector-controls" style="position: absolute; top: -10px; right: -10px; display: flex; gap: 5px;">
                    <button onclick="event.stopPropagation(); addCompanyToSector('${name}')" title="Ajouter entreprise" style="width: 25px; height: 25px; border-radius: 50%; border: 2px solid #171718; background: white; color: #171718; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease;">â•</button>
                    <button onclick="event.stopPropagation(); removeSector('${name}')" title="Supprimer secteur" style="width: 25px; height: 25px; border-radius: 50%; border: 2px solid #171718; background: white; color: #171718; font-size: 0.8rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease;">âŒ</button>
                </div>
            `;
            
            newSector.onclick = () => openSector(name);
            board.appendChild(newSector);
        }

        // Ajouter une entreprise Ã  un secteur
        function addCompanyToSector(sectorName) {
            const content = `
                <h3 style="color: #95c11f; margin-bottom: 20px;">â• Ajouter une Entreprise</h3>
                <p style="margin-bottom: 20px;">Secteur : <strong>${sectorName.charAt(0).toUpperCase() + sectorName.slice(1)}</strong></p>
                <form onsubmit="createCompany(event, '${sectorName}')" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="companyName" style="display: block; margin-bottom: 5px; font-weight: 600;">Nom de l'entreprise :</label>
                        <input type="text" id="companyName" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: TechCorp, Restaurant Chez Paul...">
                    </div>
                    <div>
                        <label for="companyContact" style="display: block; margin-bottom: 5px; font-weight: 600;">Nom du contact :</label>
                        <input type="text" id="companyContact" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: Marie Dupont">
                    </div>
                    <div>
                        <label for="companyPhone" style="display: block; margin-bottom: 5px; font-weight: 600;">TÃ©lÃ©phone :</label>
                        <input type="tel" id="companyPhone" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: 01.23.45.67.89">
                    </div>
                    <div>
                        <label for="companyEmail" style="display: block; margin-bottom: 5px; font-weight: 600;">Email :</label>
                        <input type="email" id="companyEmail" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: contact@entreprise.fr">
                    </div>
                    <button type="submit" style="background: #95c11f; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        Ajouter l'Entreprise
                    </button>
                </form>
            `;
            openModal('Nouvelle Entreprise', content);
        }

        // CrÃ©er une nouvelle entreprise
        function createCompany(event, sectorName) {
            event.preventDefault();
            const name = document.getElementById('companyName').value.trim();
            const contact = document.getElementById('companyContact').value.trim();
            const phone = document.getElementById('companyPhone').value.trim();
            const email = document.getElementById('companyEmail').value.trim();
            
            if (!name || !contact || !phone || !email) return;
            
            // Ajouter l'entreprise au secteur
            if (!companies[sectorName]) {
                companies[sectorName] = [];
            }
            
            companies[sectorName].push({
                name,
                contact,
                phone,
                email,
                offers: []
            });
            
            closeModal();
            showNotification(`âœ… Entreprise "${name}" ajoutÃ©e au secteur ${sectorName} !`);
        }

        // Modifier une entreprise
        function editCompany(sectorName, companyIndex) {
            const company = companies[sectorName][companyIndex];
            const content = `
                <h3 style="color: #2897d5; margin-bottom: 20px;">âœï¸ Modifier l'Entreprise</h3>
                <form onsubmit="updateCompany(event, '${sectorName}', ${companyIndex})" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="editCompanyName" style="display: block; margin-bottom: 5px; font-weight: 600;">Nom de l'entreprise :</label>
                        <input type="text" id="editCompanyName" value="${company.name}" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;">
                    </div>
                    <div>
                        <label for="editCompanyContact" style="display: block; margin-bottom: 5px; font-weight: 600;">Nom du contact :</label>
                        <input type="text" id="editCompanyContact" value="${company.contact}" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;">
                    </div>
                    <div>
                        <label for="editCompanyPhone" style="display: block; margin-bottom: 5px; font-weight: 600;">TÃ©lÃ©phone :</label>
                        <input type="tel" id="editCompanyPhone" value="${company.phone}" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;">
                    </div>
                    <div>
                        <label for="editCompanyEmail" style="display: block; margin-bottom: 5px; font-weight: 600;">Email :</label>
                        <input type="email" id="editCompanyEmail" value="${company.email}" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;">
                    </div>
                    <button type="submit" style="background: #2897d5; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        Sauvegarder les Modifications
                    </button>
                </form>
            `;
            openModal('Modifier Entreprise', content);
        }

        // Mettre Ã  jour une entreprise
        function updateCompany(event, sectorName, companyIndex) {
            event.preventDefault();
            const name = document.getElementById('editCompanyName').value.trim();
            const contact = document.getElementById('editCompanyContact').value.trim();
            const phone = document.getElementById('editCompanyPhone').value.trim();
            const email = document.getElementById('editCompanyEmail').value.trim();
            
            if (!name || !contact || !phone || !email) return;
            
            // Mettre Ã  jour l'entreprise
            companies[sectorName][companyIndex] = {
                ...companies[sectorName][companyIndex],
                name,
                contact,
                phone,
                email
            };
            
            closeModal();
            showNotification(`âœ… Entreprise "${name}" mise Ã  jour !`);
        }

        // Supprimer une entreprise
        function deleteCompany(sectorName, companyIndex) {
            const company = companies[sectorName][companyIndex];
            const content = `
                <h3 style="color: #d60b52; margin-bottom: 20px;">ğŸ—‘ï¸ Supprimer l'Entreprise</h3>
                <p style="margin-bottom: 20px;">ÃŠtes-vous sÃ»r de vouloir supprimer l'entreprise <strong>"${company.name}"</strong> ?</p>
                <p style="color: #6c757d; font-size: 0.9rem; margin-bottom: 20px;">Cette action est irrÃ©versible.</p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button onclick="closeModal()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Annuler
                    </button>
                    <button onclick="confirmDeleteCompany('${sectorName}', ${companyIndex})" style="background: #d60b52; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Supprimer
                    </button>
                </div>
            `;
            openModal('Confirmer Suppression', content);
        }

        // Confirmer la suppression d'une entreprise
        function confirmDeleteCompany(sectorName, companyIndex) {
            const companyName = companies[sectorName][companyIndex].name;
            companies[sectorName].splice(companyIndex, 1);
            closeModal();
            showNotification(`ğŸ—‘ï¸ Entreprise "${companyName}" supprimÃ©e !`);
        }

        // GÃ©rer les offres d'une entreprise
        function manageOffers(sectorName, companyIndex) {
            const company = companies[sectorName][companyIndex];
            const offers = company.offers || [];
            
            let content = `
                <h3 style="color: #a3195b; margin-bottom: 20px;">ğŸ’¼ GÃ©rer les Offres</h3>
                <p style="margin-bottom: 20px;">Entreprise : <strong>${company.name}</strong></p>
                
                <div style="margin-bottom: 20px;">
                    <h4 style="color: #171718; margin-bottom: 10px;">Offres actuelles :</h4>
            `;
            
            if (offers.length > 0) {
                content += '<div style="display: flex; flex-direction: column; gap: 10px;">';
                offers.forEach((offer, index) => {
                    content += `
                        <div style="display: flex; justify-content: space-between; align-items: center; background: #f8f9fa; padding: 10px; border-radius: 8px;">
                            <span>${offer}</span>
                            <button onclick="removeOffer('${sectorName}', ${companyIndex}, ${index})" style="background: #d60b52; color: white; border: none; padding: 5px 8px; border-radius: 5px; cursor: pointer; font-size: 0.8rem;">
                                ğŸ—‘ï¸
                            </button>
                        </div>
                    `;
                });
                content += '</div>';
            } else {
                content += '<p style="color: #6c757d; font-style: italic;">Aucune offre pour le moment.</p>';
            }
            
            content += `
                </div>
                
                <form onsubmit="addOffer(event, '${sectorName}', ${companyIndex})" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="newOffer" style="display: block; margin-bottom: 5px; font-weight: 600;">Nouvelle offre :</label>
                        <input type="text" id="newOffer" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: DÃ©veloppeur Junior, Vendeur H/F...">
                    </div>
                    <button type="submit" style="background: #95c11f; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        â• Ajouter l'Offre
                    </button>
                </form>
            `;
            
            openModal('GÃ©rer les Offres', content);
        }

        // Ajouter une offre
        function addOffer(event, sectorName, companyIndex) {
            event.preventDefault();
            const offerText = document.getElementById('newOffer').value.trim();
            
            if (!offerText) return;
            
            if (!companies[sectorName][companyIndex].offers) {
                companies[sectorName][companyIndex].offers = [];
            }
            
            companies[sectorName][companyIndex].offers.push(offerText);
            
            // Recharger le modal avec les nouvelles offres
            manageOffers(sectorName, companyIndex);
            showNotification(`âœ… Offre "${offerText}" ajoutÃ©e !`);
        }

        // Supprimer une offre
        function removeOffer(sectorName, companyIndex, offerIndex) {
            const offerText = companies[sectorName][companyIndex].offers[offerIndex];
            companies[sectorName][companyIndex].offers.splice(offerIndex, 1);
            
            // Recharger le modal
            manageOffers(sectorName, companyIndex);
            showNotification(`ğŸ—‘ï¸ Offre "${offerText}" supprimÃ©e !`);
        }

        // Supprimer un secteur
        function removeSector(sectorName) {
            const content = `
                <h3 style="color: #d60b52; margin-bottom: 20px;">ğŸ—‘ï¸ Supprimer le Secteur</h3>
                <p style="margin-bottom: 20px;">ÃŠtes-vous sÃ»r de vouloir supprimer le secteur <strong>"${sectorName.charAt(0).toUpperCase() + sectorName.slice(1)}"</strong> ?</p>
                <p style="color: #6c757d; font-size: 0.9rem; margin-bottom: 20px;">Toutes les entreprises de ce secteur seront Ã©galement supprimÃ©es. Cette action est irrÃ©versible.</p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button onclick="closeModal()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Annuler
                    </button>
                    <button onclick="confirmRemoveSector('${sectorName}')" style="background: #d60b52; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Supprimer
                    </button>
                </div>
            `;
            openModal('Confirmer Suppression', content);
        }

        // Confirmer la suppression d'un secteur
        function confirmRemoveSector(sectorName) {
            // Supprimer les donnÃ©es du secteur
            delete companies[sectorName];
            
            // Supprimer des secteurs personnalisÃ©s si c'en est un
            customSectors = customSectors.filter(sector => sector.name !== sectorName);
            
            // Supprimer l'Ã©lÃ©ment du DOM
            const sectorElement = document.querySelector(`[data-sector="${sectorName}"]`);
            if (sectorElement) {
                sectorElement.remove();
            }
            
            closeModal();
            showNotification(`ğŸ—‘ï¸ Secteur "${sectorName}" supprimÃ© !`);
        }

        // Fonction pour les secteurs existants (pour Ã©viter les erreurs)
        function addCompany(sectorName) {
            addCompanyToSector(sectorName);
        }

        // Fonction de changement de langue
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // Mettre Ã  jour les boutons de langue
            document.getElementById('langFr').style.cssText = lang === 'fr' ? 
                "background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; border: 2px solid #171718; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(243,146,0,0.3);" :
                "background: rgba(255,255,255,0.9); color: #171718; border: 2px solid #171718; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);";
            
            document.getElementById('langEs').style.cssText = lang === 'es' ? 
                "background: linear-gradient(135deg, #f39200 0%, #d17a00 100%); color: white; border: 2px solid #171718; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(243,146,0,0.3);" :
                "background: rgba(255,255,255,0.9); color: #171718; border: 2px solid #171718; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.1);";
            
            // Appliquer les traductions
            const elementsToTranslate = document.querySelectorAll('[data-translate]');
            elementsToTranslate.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Traductions spÃ©ciales pour les Ã©lÃ©ments avec HTML
            if (lang === 'es') {
                // Mettre Ã  jour le texte de progression
                const progressText = document.querySelector('[data-translate="general_progress"]');
                if (progressText) {
                    progressText.textContent = "Progreso general: 35%";
                }
            } else {
                const progressText = document.querySelector('[data-translate="general_progress"]');
                if (progressText) {
                    progressText.textContent = "Progression gÃ©nÃ©rale : 35%";
                }
            }
            
            showNotification(lang === 'es' ? 'ğŸ‡ªğŸ‡¸ Idioma cambiado a espaÃ±ol' : 'ğŸ‡«ğŸ‡· Langue changÃ©e en franÃ§ais');
        }

        // Gestion des Ã©vÃ©nements clavier
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // Fermer le modal en cliquant Ã  l'extÃ©rieur
        document.getElementById('modal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeModal();
            }
        });

        // Animation du chat bubble
        setInterval(() => {
            const bubble = document.getElementById('chatBubble');
            if (bubble) {
                bubble.style.transform = 'translateX(-50%) translateY(' + (Math.sin(Date.now() / 1000) * 3) + 'px)';
            }
        }, 50);

        // Fonctions du carnet de bord
        function addCompanyToTracker() {
            const content = `
                <h3 style="color: #95c11f; margin-bottom: 20px;">â• Ajouter une Entreprise au Carnet</h3>
                <form onsubmit="createTrackedCompany(event)" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="trackedCompanyName" style="display: block; margin-bottom: 5px; font-weight: 600;">Nom de l'entreprise :</label>
                        <input type="text" id="trackedCompanyName" required style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: TechCorp, Restaurant Chez Paul...">
                    </div>
                    <div>
                        <label for="trackedCompanySector" style="display: block; margin-bottom: 5px; font-weight: 600;">Secteur :</label>
                        <input type="text" id="trackedCompanySector" style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: Commerce, Industrie, NumÃ©rique...">
                    </div>
                    <div>
                        <label for="trackedCompanyContact" style="display: block; margin-bottom: 5px; font-weight: 600;">Contact (optionnel) :</label>
                        <input type="text" id="trackedCompanyContact" style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem;" placeholder="Ex: Marie Dupont">
                    </div>
                    <button type="submit" style="background: #95c11f; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        Ajouter au Carnet
                    </button>
                </form>
            `;
            openModal('Nouvelle Entreprise', content);
        }

        function createTrackedCompany(event) {
            event.preventDefault();
            const name = document.getElementById('trackedCompanyName').value.trim();
            const sector = document.getElementById('trackedCompanySector').value.trim();
            const contact = document.getElementById('trackedCompanyContact').value.trim();
            
            if (!name) return;
            
            const newCompany = {
                id: Date.now(),
                name: name,
                sector: sector || 'Non spÃ©cifiÃ©',
                contact: contact || '',
                presentation: false,
                question: false,
                cv: false,
                suivi: false,
                ressenti: ''
            };
            
            companyTracker.push(newCompany);
            updateTrackerDisplay();
            closeModal();
            showNotification(`âœ… Entreprise "${name}" ajoutÃ©e au carnet !`);
        }

        function updateTrackerDisplay() {
            const trackerBody = document.getElementById('trackerBody');
            const emptyTracker = document.getElementById('emptyTracker');
            
            if (companyTracker.length === 0) {
                emptyTracker.style.display = 'block';
                document.getElementById('companyTracker').style.display = 'none';
                return;
            }
            
            emptyTracker.style.display = 'none';
            document.getElementById('companyTracker').style.display = 'table';
            
            trackerBody.innerHTML = '';
            
            companyTracker.forEach((company, index) => {
                const row = document.createElement('tr');
                row.style.cssText = `
                    background: ${index % 2 === 0 ? 'white' : '#f8f9fa'};
                    border-bottom: 1px solid #e9ecef;
                    transition: all 0.3s ease;
                `;
                
                row.innerHTML = `
                    <td style="padding: 15px; border-right: 1px solid #e9ecef;">
                        <div style="font-weight: 600; color: #171718; margin-bottom: 5px;">${company.name}</div>
                        <div style="font-size: 0.9rem; color: #6c757d;">${company.sector}</div>
                        ${company.contact ? `<div style="font-size: 0.8rem; color: #6c757d; margin-top: 3px;">${company.contact}</div>` : ''}
                    </td>
                    <td style="padding: 15px; text-align: center; border-right: 1px solid #e9ecef;">
                        <label style="cursor: pointer; display: inline-block;">
                            <input type="checkbox" ${company.presentation ? 'checked' : ''} onchange="updateCompanyStatus(${company.id}, 'presentation', this.checked)" style="display: none;">
                            <div class="checkbox-custom" style="width: 35px; height: 35px; border: 3px solid ${company.presentation ? '#95c11f' : '#e9ecef'}; border-radius: 10px; background: ${company.presentation ? 'linear-gradient(135deg, #95c11f 0%, #7ba518 100%)' : 'white'}; display: flex; align-items: center; justify-content: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); margin: 0 auto; box-shadow: ${company.presentation ? '0 6px 20px rgba(149,193,31,0.4)' : '0 2px 8px rgba(0,0,0,0.1)'}; transform: ${company.presentation ? 'scale(1.1)' : 'scale(1)'};">
                                ${company.presentation ? '<span style="color: white; font-weight: bold; font-size: 1.2rem;">âœ“</span>' : ''}
                            </div>
                        </label>
                    </td>
                    <td style="padding: 15px; text-align: center; border-right: 1px solid #e9ecef;">
                        <label style="cursor: pointer; display: inline-block;">
                            <input type="checkbox" ${company.question ? 'checked' : ''} onchange="updateCompanyStatus(${company.id}, 'question', this.checked)" style="display: none;">
                            <div class="checkbox-custom" style="width: 35px; height: 35px; border: 3px solid ${company.question ? '#95c11f' : '#e9ecef'}; border-radius: 10px; background: ${company.question ? 'linear-gradient(135deg, #95c11f 0%, #7ba518 100%)' : 'white'}; display: flex; align-items: center; justify-content: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); margin: 0 auto; box-shadow: ${company.question ? '0 6px 20px rgba(149,193,31,0.4)' : '0 2px 8px rgba(0,0,0,0.1)'}; transform: ${company.question ? 'scale(1.1)' : 'scale(1)'};">
                                ${company.question ? '<span style="color: white; font-weight: bold; font-size: 1.2rem;">âœ“</span>' : ''}
                            </div>
                        </label>
                    </td>
                    <td style="padding: 15px; text-align: center; border-right: 1px solid #e9ecef;">
                        <label style="cursor: pointer; display: inline-block;">
                            <input type="checkbox" ${company.cv ? 'checked' : ''} onchange="updateCompanyStatus(${company.id}, 'cv', this.checked)" style="display: none;">
                            <div class="checkbox-custom" style="width: 35px; height: 35px; border: 3px solid ${company.cv ? '#95c11f' : '#e9ecef'}; border-radius: 10px; background: ${company.cv ? 'linear-gradient(135deg, #95c11f 0%, #7ba518 100%)' : 'white'}; display: flex; align-items: center; justify-content: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); margin: 0 auto; box-shadow: ${company.cv ? '0 6px 20px rgba(149,193,31,0.4)' : '0 2px 8px rgba(0,0,0,0.1)'}; transform: ${company.cv ? 'scale(1.1)' : 'scale(1)'};">
                                ${company.cv ? '<span style="color: white; font-weight: bold; font-size: 1.2rem;">âœ“</span>' : ''}
                            </div>
                        </label>
                    </td>
                    <td style="padding: 15px; text-align: center; border-right: 1px solid #e9ecef;">
                        <label style="cursor: pointer; display: inline-block;">
                            <input type="checkbox" ${company.suivi ? 'checked' : ''} onchange="updateCompanyStatus(${company.id}, 'suivi', this.checked)" style="display: none;">
                            <div class="checkbox-custom" style="width: 35px; height: 35px; border: 3px solid ${company.suivi ? '#95c11f' : '#e9ecef'}; border-radius: 10px; background: ${company.suivi ? 'linear-gradient(135deg, #95c11f 0%, #7ba518 100%)' : 'white'}; display: flex; align-items: center; justify-content: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); margin: 0 auto; box-shadow: ${company.suivi ? '0 6px 20px rgba(149,193,31,0.4)' : '0 2px 8px rgba(0,0,0,0.1)'}; transform: ${company.suivi ? 'scale(1.1)' : 'scale(1)'};">
                                ${company.suivi ? '<span style="color: white; font-weight: bold; font-size: 1.2rem;">âœ“</span>' : ''}
                            </div>
                        </label>
                    </td>
                    <td style="padding: 15px; text-align: center; border-right: 1px solid #e9ecef;">
                        <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                            <div style="display: flex; gap: 5px;">
                                <button onclick="setFeeling(${company.id}, 'ğŸ˜Š')" style="background: ${company.ressenti === 'ğŸ˜Š' ? 'linear-gradient(135deg, #95c11f 0%, #7ba518 100%)' : '#f8f9fa'}; border: 2px solid ${company.ressenti === 'ğŸ˜Š' ? '#95c11f' : '#e9ecef'}; border-radius: 50%; width: 38px; height: 38px; cursor: pointer; font-size: 1.3rem; transition: all 0.3s ease; color: ${company.ressenti === 'ğŸ˜Š' ? 'white' : '#171718'}; box-shadow: ${company.ressenti === 'ğŸ˜Š' ? '0 4px 15px rgba(149,193,31,0.3)' : 'none'};">ğŸ˜Š</button>
                                <button onclick="setFeeling(${company.id}, 'ğŸ™‚')" style="background: ${company.ressenti === 'ğŸ™‚' ? 'linear-gradient(135deg, #2897d5 0%, #1e7bb8 100%)' : '#f8f9fa'}; border: 2px solid ${company.ressenti === 'ğŸ™‚' ? '#2897d5' : '#e9ecef'}; border-radius: 50%; width: 38px; height: 38px; cursor: pointer; font-size: 1.3rem; transition: all 0.3s ease; color: ${company.ressenti === 'ğŸ™‚' ? 'white' : '#171718'}; box-shadow: ${company.ressenti === 'ğŸ™‚' ? '0 4px 15px rgba(40,151,213,0.3)' : 'none'};">ğŸ™‚</button>
                                <button onclick="setFeeling(${company.id}, 'ğŸ˜')" style="background: ${company.ressenti === 'ğŸ˜' ? 'linear-gradient(135deg, #f39200 0%, #d17a00 100%)' : '#f8f9fa'}; border: 2px solid ${company.ressenti === 'ğŸ˜' ? '#f39200' : '#e9ecef'}; border-radius: 50%; width: 38px; height: 38px; cursor: pointer; font-size: 1.3rem; transition: all 0.3s ease; color: ${company.ressenti === 'ğŸ˜' ? 'white' : '#171718'}; box-shadow: ${company.ressenti === 'ğŸ˜' ? '0 4px 15px rgba(243,146,0,0.3)' : 'none'};">ğŸ˜</button>
                                <button onclick="setFeeling(${company.id}, 'ğŸ˜•')" style="background: ${company.ressenti === 'ğŸ˜•' ? 'linear-gradient(135deg, #d60b52 0%, #b8094a 100%)' : '#f8f9fa'}; border: 2px solid ${company.ressenti === 'ğŸ˜•' ? '#d60b52' : '#e9ecef'}; border-radius: 50%; width: 38px; height: 38px; cursor: pointer; font-size: 1.3rem; transition: all 0.3s ease; color: ${company.ressenti === 'ğŸ˜•' ? 'white' : '#171718'}; box-shadow: ${company.ressenti === 'ğŸ˜•' ? '0 4px 15px rgba(214,11,82,0.3)' : 'none'};">ğŸ˜•</button>
                            </div>
                            <button onclick="addComment(${company.id})" style="background: #2897d5; color: white; border: none; padding: 5px 10px; border-radius: 15px; cursor: pointer; font-size: 0.8rem; font-weight: 600;">âœï¸</button>
                        </div>
                        ${company.comment ? `<div style="background: #f8f9fa; padding: 8px; border-radius: 8px; margin-top: 8px; font-size: 0.8rem; color: #6c757d; text-align: left;">${company.comment}</div>` : ''}
                    </td>
                    <td style="padding: 15px; text-align: center;">
                        <button onclick="removeTrackedCompany(${company.id})" style="background: #d60b52; color: white; border: none; padding: 8px; border-radius: 50%; cursor: pointer; width: 35px; height: 35px; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                            ğŸ—‘ï¸
                        </button>
                    </td>
                `;
                
                trackerBody.appendChild(row);
            });
        }

        function updateCompanyStatus(companyId, field, value) {
            const company = companyTracker.find(c => c.id === companyId);
            if (company) {
                company[field] = value;
                
                // Ajouter des points selon l'action
                if (value) {
                    let points = 0;
                    switch(field) {
                        case 'presentation': points = 20; break;
                        case 'question': points = 50; break;
                        case 'cv': points = 100; break;
                        case 'suivi': points = 200; break;
                    }
                    if (points > 0) {
                        addScore(points);
                        showNotification(`ğŸ‰ +${points} points pour ${field === 'presentation' ? 'la prÃ©sentation' : field === 'question' ? 'la question posÃ©e' : field === 'cv' ? 'le CV dÃ©posÃ©' : 'le suivi obtenu'} !`);
                        
                        // Animation de validation
                        const checkbox = document.querySelector(`[onchange*="${companyId}"][onchange*="${field}"]`).nextElementSibling;
                        checkbox.style.transform = 'scale(1.3)';
                        setTimeout(() => {
                            checkbox.style.transform = company[field] ? 'scale(1.1)' : 'scale(1)';
                        }, 300);
                    }
                }
                
                updateTrackerDisplay();
                updateStats();
            }
        }

        function updateStats() {
            const presentations = companyTracker.filter(c => c.presentation).length;
            const questions = companyTracker.filter(c => c.question).length;
            const cvs = companyTracker.filter(c => c.cv).length;
            const suivis = companyTracker.filter(c => c.suivi).length;
            
            // Animation des compteurs
            animateCounter('statPresentations', presentations);
            animateCounter('statQuestions', questions);
            animateCounter('statCVs', cvs);
            animateCounter('statSuivis', suivis);
        }

        function animateCounter(elementId, targetValue) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const currentValue = parseInt(element.textContent) || 0;
            const increment = targetValue > currentValue ? 1 : -1;
            const duration = 300;
            const steps = Math.abs(targetValue - currentValue);
            const stepDuration = steps > 0 ? duration / steps : 0;
            
            let current = currentValue;
            const timer = setInterval(() => {
                current += increment;
                element.textContent = current;
                
                if (current === targetValue) {
                    clearInterval(timer);
                    // Animation de pulsation pour les nouveaux records
                    if (targetValue > currentValue) {
                        element.style.transform = 'scale(1.2)';
                        element.style.color = '#95c11f';
                        setTimeout(() => {
                            element.style.transform = 'scale(1)';
                            element.style.color = 'white';
                        }, 400);
                    }
                }
            }, stepDuration);
        }

        function setFeeling(companyId, feeling) {
            const company = companyTracker.find(c => c.id === companyId);
            if (company) {
                company.ressenti = company.ressenti === feeling ? '' : feeling;
                updateTrackerDisplay();
                updateStats();
                
                // Animation du smiley sÃ©lectionnÃ©
                const buttons = document.querySelectorAll(`[onclick="setFeeling(${companyId}, '${feeling}')"]`);
                buttons.forEach(btn => {
                    btn.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        btn.style.transform = 'scale(1)';
                    }, 200);
                });
            }
        }

        function addComment(companyId) {
            const company = companyTracker.find(c => c.id === companyId);
            if (!company) return;
            
            const content = `
                <h3 style="color: #2897d5; margin-bottom: 20px;">âœï¸ Commentaire - ${company.name}</h3>
                <form onsubmit="saveComment(event, ${companyId})" style="display: flex; flex-direction: column; gap: 15px;">
                    <div>
                        <label for="companyComment" style="display: block; margin-bottom: 5px; font-weight: 600;">Ton ressenti / commentaire :</label>
                        <textarea id="companyComment" rows="4" style="width: 100%; padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; resize: vertical;" placeholder="Ex: TrÃ¨s bon accueil, poste intÃ©ressant, Ã  recontacter la semaine prochaine...">${company.comment || ''}</textarea>
                    </div>
                    <button type="submit" style="background: #2897d5; color: white; border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-weight: 600;">
                        Sauvegarder
                    </button>
                </form>
            `;
            openModal('Ajouter un Commentaire', content);
        }

        function saveComment(event, companyId) {
            event.preventDefault();
            const comment = document.getElementById('companyComment').value.trim();
            const company = companyTracker.find(c => c.id === companyId);
            
            if (company) {
                company.comment = comment;
                updateTrackerDisplay();
                closeModal();
                showNotification('ğŸ’¬ Commentaire sauvegardÃ© !');
            }
        }

        function removeTrackedCompany(companyId) {
            const company = companyTracker.find(c => c.id === companyId);
            if (!company) return;
            
            const content = `
                <h3 style="color: #d60b52; margin-bottom: 20px;">ğŸ—‘ï¸ Supprimer l'Entreprise</h3>
                <p style="margin-bottom: 20px;">ÃŠtes-vous sÃ»r de vouloir supprimer <strong>"${company.name}"</strong> de votre carnet de bord ?</p>
                <p style="color: #6c757d; font-size: 0.9rem; margin-bottom: 20px;">Cette action est irrÃ©versible.</p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button onclick="closeModal()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Annuler
                    </button>
                    <button onclick="confirmRemoveTrackedCompany(${companyId})" style="background: #d60b52; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Supprimer
                    </button>
                </div>
            `;
            openModal('Confirmer Suppression', content);
        }

        function clearAllTracking() {
            if (companyTracker.length === 0) {
                showNotification('ğŸ“ Le carnet est dÃ©jÃ  vide !');
                return;
            }
            
            const content = `
                <h3 style="color: #d60b52; margin-bottom: 20px;">ğŸ—‘ï¸ Effacer Tout le Carnet</h3>
                <p style="margin-bottom: 20px;">ÃŠtes-vous sÃ»r de vouloir supprimer <strong>toutes les entreprises</strong> de votre carnet de bord ?</p>
                <p style="color: #6c757d; font-size: 0.9rem; margin-bottom: 20px;">Cette action supprimera dÃ©finitivement ${companyTracker.length} entreprise(s) et tous les commentaires associÃ©s.</p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button onclick="closeModal()" style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Annuler
                    </button>
                    <button onclick="confirmClearAllTracking()" style="background: #d60b52; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer;">
                        Tout Effacer
                    </button>
                </div>
            `;
            openModal('Confirmer Suppression', content);
        }

        function confirmClearAllTracking() {
            companyTracker = [];
            updateTrackerDisplay();
            updateStats();
            closeModal();
            showNotification('ğŸ—‘ï¸ Carnet de bord effacÃ© !');
        }

        function confirmRemoveTrackedCompany(companyId) {
            companyTracker = companyTracker.filter(c => c.id !== companyId);
            updateTrackerDisplay();
            updateStats();
            closeModal();
            showNotification('ğŸ—‘ï¸ Entreprise supprimÃ©e du carnet !');
        }

        // Animations des boutons au survol
        document.addEventListener('DOMContentLoaded', function() {
            // Marquer la prÃ©sence comme complÃ©tÃ©e au chargement
            setTimeout(() => {
                completeObjective('presence');
            }, 1000);
            
            // Initialiser l'affichage du carnet
            updateTrackerDisplay();
            updateStats();
            
            // Ajouter les animations de survol pour les boutons
            const style = document.createElement('style');
            style.textContent = `
                .checkbox-custom:hover {
                    transform: scale(1.15) !important;
                    box-shadow: 0 8px 25px rgba(149,193,31,0.5) !important;
                }
                
                button:hover {
                    transform: translateY(-2px) !important;
                }
                
                @keyframes pulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.05); }
                    100% { transform: scale(1); }
                }
                
                .stat-pulse {
                    animation: pulse 0.6s ease-in-out;
                }
            `;
            document.head.appendChild(style);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9915df20a5b66f0a',t:'MTc2MDkzNTU4OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
